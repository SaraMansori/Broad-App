{"version":3,"sources":["pages/ChatPage/Chat.jsx","UserContext.js","utils/paths.js","services/books.service.js","components/styledComponents/atomicComponents/SearchBar.jsx","components/styledComponents/atomicComponents/SearchBarFilters.jsx","utils/defaultImages.js","services/users.service.js","pages/BookResultsPage/BookItem.jsx","pages/BookResultsPage/BookResultsPage.jsx","components/Routes/BookResultsRoutes.jsx","vanreading.png","bookcover.jpg","components/styledComponents/atomicComponents/LongButton.jsx","components/styledComponents/styledPages/HomePageStyle.jsx","pages/HomePage/HomePage.jsx","services/auth.service.js","pages/auth/Login.jsx","pages/auth/Signup.jsx","services/uploads.service.js","pages/SignupInfoPage/SignupInfoPage.jsx","utils/bookGenres.js","pages/SignupGenresPage/SignupGenresPage.jsx","services/requests.service.js","pages/RequestsPage/RequestItem.jsx","pages/RequestsPage/RequestsList.jsx","pages/RequestsPage/RequestsPage.jsx","components/styledComponents/styledPages/ProfileStyle.jsx","pages/UsersPage/UserItem.jsx","pages/UsersPage/UsersList.jsx","pages/UsersPage/UsersPage.jsx","services/chats.service.js","pages/BookExchangePage/BookToExchangeItem.jsx","pages/BookExchangePage/BooksToExchangeList.jsx","pages/BookExchangePage/BookExchangePage.jsx","pages/UserProfilePage/UserProfilePage.jsx","pages/EditUserPage/EditUserPage.jsx","pages/ChatPage/ChatItem.jsx","components/styledComponents/ChatStyle.jsx","pages/ChatPage/InfoBar/InfoBar.jsx","components/icons/online-icon.png","pages/ChatPage/Input.jsx","pages/ChatPage/Message.jsx","pages/ChatPage/Messages.jsx","pages/ChatPage/ChatPage.jsx","pages/ExchangedBooksPage/ExchangedBookItem.jsx","pages/ExchangedBooksPage/ExchangedBooksList.jsx","pages/ExchangedBooksPage/ExchangedBooksPage.jsx","services/exchanges.service.js","pages/UserDetailsPage/UserDetailsPage.jsx","components/Routes/ProtectedRoutes.jsx","components/Routes/index.js","B.svg","components/styledComponents/atomicComponents/ImgLogo.jsx","components/Layout/Navtop.jsx","App.js","index.js"],"names":["socket","UserContext","React","createContext","UserProvider","Provider","SIGNUP","LOGIN","PROFILE","EDIT_PROFILE","REQUESTS","CHATS","BookService","getBooks","text","instance","get","getBooksByType","type","this","axios","create","baseURL","process","withCredentials","SearchBar","props","useState","setText","history","useHistory","onSubmit","e","preventDefault","searchType","push","InputGroup","FormControl","placeholder","style","width","name","value","onChange","target","handleInput","Button","variant","SearchBarFilters","handleRadioClick","Form","className","Check","inline","label","id","onClick","defaultImages","bookCover","profilePicture","UsersService","updateSignupInfo","description","profileImage","location","put","updateFavoriteGenres","favoriteGenres","getUsers","deleteFriend","friendId","updateUserBooks","book","getUserInfo","editUserInfo","email","getBooksToExchange","BookItem","useContext","loggedUser","storeUser","wantToExchange","setWantToExchange","useEffect","books","some","userBook","wantsToExchange","bookId","volumeInfo","imageLinks","title","authors","publishedDate","length","usersService","handleBookChangeClick","status","dataset","then","res","console","log","data","catch","err","error","Col","Card","height","Img","maxHeight","objectFit","src","thumbnail","Body","display","flexDirection","justifyContent","Title","Text","map","author","index","handleExchangeClick","Dropdown","Toggle","Menu","Item","bookService","BookResultsPage","useParams","setSearchType","setBooks","useLocation","replaceAll","Container","Row","marginBottom","xs","md","i","BookResultsRoutes","exact","path","render","LongButton","styled","H2","h2","H6","h6","ImageReading","div","reading","Welcome","NewLife","Ready","Hit","Hit2","Quote","Quote3","Quote2","Quote1","RectContainer","GreenRectangle","BookCover","bookcover","BookDesc","PurpleRectangle","BroadFeatures","Icon","BroadDesc","HomePage","marginTop","as","Link","to","textAlign","toast","AuthService","signup","username","pwd","post","login","logout","isLoggedIn","refreshSession","authService","LoginForm","formData","setFormData","margin","SignupForm","toasts","handleChange","user","UploadsService","uploadImg","imageForm","uploadsService","SignupInfoPage","autoFocus","Control","rows","maxWidth","accept","isLoading","uploadedData","FormData","append","files","cloudinary_url","handleFile","size","disabled","genres","SignupGenresPage","setSignupGenresData","flexWrap","gap","genre","currentGenre","innerText","includes","filter","handleClick","flexGrow","RequestsService","getRequests","manageRequest","createRequest","receiver","deleteRequest","otherUserId","delete","getRequest","getExchangeRequest","requestsService","RequestsItem","_id","owner","changeRequestStatus","marginRight","RequestsList","requests","friendshipRequests","request","exchangeRequests","displayRequests","requestsArr","RequestItem","RequestsPage","setRequests","Header","ProfilePicture","image","UsersItem","friendshipRequest","setFriendshipRequest","buttonToShow","setButtonToShow","areFriends","setAreFriends","currentUserId","existFriendshipRequest","selectButtonToShow","checkFriendship","handleFriendship","promise","friends","userIsOwner","userIsReceiver","color","UsersList","users","UserItem","UsersPage","setUsers","ChatService","getUserChats","createChat","addMessage","message","chat","chatsService","ChatsService","BookToExchangeItem","ownerId","exchangeRequest","setExchangeRequest","chatExists","setChatExists","existExchangeRequest","checkChat","forEach","participants","BooksToExchangeList","booksToExchange","bookToExchange","BookExchangePage","setBooksToExchange","Description","UserProfilePage","borderRadius","minHeight","background","fontSize","fontWeight","alignSelf","EditUserPage","ChatItem","handleChat","currentChat","chatUserId","find","participant","undefined","otherUser","setOtherUser","isThisChatOpen","setIsThisChatOpen","queryString","parse","search","body","OuterContainer","ChatContainer","LeftInnerContainer","RightInnerContainer","MessageContainerEnd","MessageBox","MessageContainerStart","PurpleMessage","LightMessage","AdminMessage","InfoBar","alt","cursor","xmlns","fill","class","viewBox","d","Input","sendMessage","setMessage","Group","resize","onKeyPress","key","padding","Message","ReactEmoji","emojify","Messages","messagesToShow","messages","initialScrollBehavior","mode","Chat","ENDPOINT","room","setRoom","setMessages","parseMessage","hasBeenRead","setSocketConfig","io","cors","origin","credentials","transports","roomName","split","sort","join","emit","disconnect","off","on","updateMessages","backgroundColor","parsedMessage","ChatPage","chats","setChats","isChatOpen","setIsChatOpen","setCurrentChat","isOpen","changeActiveChatUser","ExchangedBookItem","endDate","exchangeId","ExchangedBooksList","exchangedBooks","getExchangedBooks","booksUserIsOwner","booksUserIsReceiver","displayExchangedBooks","exchangedBooksArr","exchangedBook","exchangesService","ExchangedBooksPage","setExchangedBooks","UserDetailsPage","setUser","ProtectedRoutes","condition","urlRedirect","children","Routes","StrictMode","PATHS","Login","Signup","img","ImgLogo","logo","Navtop","Navbar","collapseOnSelect","expand","bg","zIndex","fluid","Brand","Collapse","Nav","NavDropdown","align","Divider","App","setLoggedUser","fetchUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.34dcea49.chunk.js","sourcesContent":["import { OuterContainer, ChatContainer, MessageBox } from '../../components/styledComponents/ChatStyle'\nimport InfoBar from './InfoBar/InfoBar'\nimport Input from './Input'\nimport Messages from './Messages'\nimport { useLocation } from 'react-router-dom'\nimport React, { useState, useEffect, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport io from 'socket.io-client'\nimport ChatsService from '../../services/chats.service'\n\nlet socket\n\nconst Chat = ({ chat, otherUser, handleClick }) => {\n\n  const ENDPOINT = process.env.REACT_APP_SOCKET_URL\n  const location = useLocation()\n  let chatsService = new ChatsService()\n\n  const [room, setRoom] = useState('')\n  const [messages, setMessages] = useState([])\n  const [message, setMessage] = useState('')\n\n  const { loggedUser } = useContext(UserContext)\n\n  const updateMessages = (message) => setMessages([...messages, message])\n  const setInitialMessages = () => setMessages(chat.messages.map(message => parseMessage(message, 'db')))\n\n  const parseMessage = (message, type) => {\n\n    if (type === 'db') {\n      return {\n        text: message.text,\n        owner: message.owner,\n        hasBeenRead: message.hasBeenRead,\n      }\n    } else if (type === 'socket') {\n      return {\n        text: message.text,\n        owner: '',\n        hasBeenRead: false,\n        user: message.user\n      }\n    }\n  }\n\n  const setSocketConfig = () => {\n    const username = loggedUser.username\n\n    socket = io(ENDPOINT, {\n      cors: {\n        origin: process.env.REACT_APP_SOCKET_URL,\n        credentials: true\n      }, transports: ['websocket']\n    })\n    const roomName = [...otherUser._id.split(\"\"), ...loggedUser._id.split(\"\")].sort().join(\"\")\n    setRoom(`${roomName}`)\n\n    socket.emit('join', { username, room: room }, () => {\n      setInitialMessages()\n    })\n\n  }\n\n  const sendMessage = (e) => {\n\n    e.preventDefault()\n\n    const parsedMessage = {\n      text: message,\n      owner: loggedUser._id,\n    }\n\n    if (message) {\n      socket.emit('sendMessage', message, () => {\n        setMessage('')\n      })\n    }\n\n    chatsService\n      .addMessage(parsedMessage, chat._id)\n      .then(res => null)\n      .catch(err => console.error(err))\n\n  }\n\n  useEffect(() => {\n    if (loggedUser?.username && otherUser) {\n\n      setSocketConfig()\n\n      return () => {\n        socket.disconnect()\n        socket.off()\n        setMessages([])\n      }\n\n    }\n\n  }, [ENDPOINT, location.search, loggedUser, otherUser])\n\n  useEffect(() => {\n    socket.on('message', message => {\n      updateMessages(parseMessage(message, 'socket'))\n    })\n  }, [messages])\n\n\n  return loggedUser ? (\n    <OuterContainer>\n      <ChatContainer>\n\n        <InfoBar otherUser={otherUser} handleClick={handleClick} />\n        <MessageBox>\n          <Messages style={{ backgroundColor: 'red' }} messages={messages} username={loggedUser.username} otherUser={otherUser} />\n        </MessageBox>\n        <Input message={message} sendMessage={sendMessage} setMessage={setMessage} />\n\n      </ChatContainer>\n    </OuterContainer>\n  ) : \"Loading...\"\n\n}\n\n\nexport default Chat\n","import React from \"react\"\nconst UserContext = React.createContext(false)\nexport const UserProvider = UserContext.Provider\nexport default UserContext\n","export const HOMEPAGE = \"/\"\nexport const SIGNUP = \"/signup\"\nexport const SIGNUP_GENRES = \"/signup/genres\"\nexport const SIGNUP_INFO = \"/signup/info\"\nexport const LOGIN = \"/login\"\nexport const PROFILE = '/profile'\nexport const EDIT_PROFILE = '/profile/edit'\nexport const BOOK_RESULTS_TEXT = \"/book-results/:text\"\nexport const BOOK_RESULTS = \"/book-results/:category/:text\"\nexport const REQUESTS = \"/requests\"\nexport const USERS = \"/users\"\nexport const BOOK_EXCHANGE = \"/book-exchange\"\nexport const CHATS = \"/chats\"\nexport const BOOKS_EXCHANGED = \"/:id/exchanged\"\nexport const USER_DETAILS = \"/users/:id\"\n","import axios from 'axios'\n\n\nclass BookService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/books`,\n      withCredentials: true\n    })\n  }\n\n  getBooks = text => this.instance.get(`/search-book/${text}`)\n\n  getBooksByType = (type, text) => this.instance.get(`/search-book-by/${type}/${text}`)\n\n}\n\n\nexport default BookService\n","import { useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { InputGroup, Button, FormControl } from 'react-bootstrap/'\n\n\nconst SearchBar = (props) => {\n\n\tconst [text, setText] = useState('')\n\tlet history = useHistory()\n\n\tconst clearState = () => {\n\t\tsetText('')\n\t};\n\n\tconst handleInput = e => {\n\t\tsetText(e.target.value)\n\t};\n\n\tconst handleSubmit = (e) => {\n\n\t\tif (props.type === 'books') {\n\n\t\t\te.preventDefault()\n\n\t\t\tif (!props.searchType) {\n\t\t\t\ttext ? history.push(`/book-results/title/${text}`) : history.push(`/book-results/+`)\n\t\t\t} else {\n\t\t\t\ttext ? history.push(`/book-results/${props.searchType}/${text}`) : history.push(`/book-results/${props.searchType}/+`)\n\t\t\t}\n\n\t\t\tclearState()\n\n\t\t} else if (props.type === 'exchange') {\n\n\t\t\tif (!props.searchType) {\n\t\t\t\ttext ? history.push(`/book-exchange/title/${text}`) : history.push(`/book-exchange/`)\n\t\t\t} else {\n\t\t\t\ttext ? history.push(`/book-exchange/${props.searchType}/${text}`) : history.push(`/book-results/${props.searchType}/+`)\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\n\t\t\t<InputGroup>\n\t\t\t\t<FormControl\n\t\t\t\t\tplaceholder={props.type === 'exchange' ? \"Find the books you want to exchange...\" : \"Find your favorite books...\"}\n\t\t\t\t\taria-label=\"search\"\n\t\t\t\t\taria-describedby=\"search\"\n\t\t\t\t\tstyle={{ width: '42vw' }}\n\t\t\t\t\tname=\"text\" value={text} onChange={e => handleInput(e)}\n\t\t\t\t/>\n\t\t\t\t<Button type='submit' variant='secondary'>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t</InputGroup>\n\n\t\t</form>\n\t)\n\n}\n\n\nexport default SearchBar\n","import { Form } from 'react-bootstrap'\n\nconst SearchBarFilters = ({ type, handleRadioClick }) => {\n  return (\n    <Form className='mt-2 mb-5' >\n      <Form.Check\n        inline\n        label=\"Search By Title\"\n        name=\"group1\"\n        type='radio'\n        id={`inline-radio-1`}\n        value={\"title\"}\n        onClick={e => handleRadioClick(e)}\n      />\n      <Form.Check\n        inline\n        label=\"Search By Author\"\n        name=\"group1\"\n        type='radio'\n        value={\"author\"}\n        id={`inline-radio-2`}\n        onClick={e => handleRadioClick(e)}\n      />\n      {type !== 'exchange' &&\n        <>\n          <Form.Check\n            inline\n            label=\"Search By Genre\"\n            name=\"group1\"\n            type='radio'\n            value={\"category\"}\n            id={`inline-radio-2`}\n            onClick={e => handleRadioClick(e)}\n          />\n          <Form.Check\n            inline\n            label=\"Search By ISBN\"\n            name=\"group1\"\n            type='radio'\n            value={\"isbn\"}\n            id={`inline-radio-2`}\n            onClick={e => handleRadioClick(e)}\n          />\n        </>\n      }\n    </Form>\n  );\n}\n\nexport default SearchBarFilters;","const defaultImages = {\n  bookCover: 'https://i.imgur.com/sJ3CT4V.gif',\n  profilePicture: ''\n}\n\nexport default defaultImages","import axios from 'axios'\n\n\nclass UsersService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/users`,\n      withCredentials: true,\n    })\n  }\n\n  updateSignupInfo = (name, description, profileImage, location) => {\n    return this.instance.put(`/edit/signup-info`, { name, description, profileImage, location })\n  }\n\n  updateFavoriteGenres = (favoriteGenres) => {\n    return this.instance.put(`/edit/genres`, { favoriteGenres })\n  }\n\n  getUsers = () => this.instance.get('/')\n\n  deleteFriend = friendId => this.instance.put('/delete-friend', { friendId })\n\n  updateUserBooks = book => this.instance.put(`/update/books`, { book })\n\n  getUserInfo = id => this.instance.get(`/${id}`)\n\n  editUserInfo = (name, email, description, profileImage, location) => this.instance.put(`/edit/profile`, { name, email, description, profileImage, location })\n\n  getBooksToExchange = () => this.instance.get('/books-to-exchange')\n\n}\n\n\nexport default UsersService\n","import { useState, useContext, useEffect } from 'react'\nimport UserContext from '../../UserContext'\nimport { Col, Card, Dropdown, Button } from 'react-bootstrap'\nimport defaultImages from '../../utils/defaultImages.js'\nimport UsersService from '../../services/users.service'\n\n\nconst BookItem = ({ book }) => {\n\n  const { loggedUser, storeUser } = useContext(UserContext)\n\n  const [wantToExchange, setWantToExchange] = useState(false)\n\n  useEffect(() => {\n    if (loggedUser) {\n      setWantToExchange(loggedUser.books.some(userBook => userBook.id === book.id && userBook.wantsToExchange))\n    }\n  }, [loggedUser])\n\n  const bookId = book.id\n  const { imageLinks, title, authors } = book.volumeInfo\n\n  let publishedDate = book.volumeInfo.publishedDate?.length !== 0 ? book.volumeInfo.publishedDate : 'Unknown'\n\n  let usersService = new UsersService()\n\n  /*   const clearState = () => {\n      setWantToExchange(false)\n    } */\n\n  const handleExchangeClick = (e) => {\n    const book = {\n      id: bookId,\n      wantsToExchange: !wantToExchange\n    }\n\n    usersService\n      .updateUserBooks(book)\n      .then(res => {\n        console.log(res.data)\n        setWantToExchange(!wantToExchange)\n        storeUser(res.data)\n      })\n      .catch(err => console.error(err))\n  }\n\n  const handleBookChangeClick = (e) => {\n\n    const book = {\n      id: bookId,\n      status: e.target.dataset.status,\n      //startDate: null,\n      //finishDate: null,\n      //wantsToExchange: false\n    }\n\n    usersService\n      .updateUserBooks(book)\n      .then(res => {\n        console.log(res.data)\n        storeUser(res.data)\n        //en un futuro actualizar estado para que el boton cambie dependiendo de lo que haya en la bbdd\n      })\n      .catch(err => console.error(err))\n  }\n\n  return (\n    <Col>\n      <Card style={{ height: '100%' }}>\n        <Card.Img className=\"p-4\" style={{ maxHeight: '200px', objectFit: 'contain' }} variant=\"top\" src={imageLinks?.thumbnail ? imageLinks.thumbnail : defaultImages.bookCover} />\n        <Card.Body style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n          <Card.Title>{title?.length < 15 ? title : title}</Card.Title>\n\n          {authors &&\n            <Card.Text>\n              {\n                (authors?.length > 1 ?\n                  authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\n                  :\n                  authors[0])\n              }\n            </Card.Text>\n          }\n\n          <Card.Text>\n            Published: {publishedDate}\n          </Card.Text>\n\n          <div className=\"buttonsList\">\n\n            <Button style={{ width: '100%' }} variant=\"secondary\" onClick={(e) => handleExchangeClick(e)}>\n              {!wantToExchange ? 'I have this book and want to exchange it' : `I don't want to exchange this book anymore`}\n            </Button>\n\n            <Dropdown >\n              <Dropdown.Toggle variant=\"primary\" style={{ width: '100%' }} className=\"mt-2\">\n                Add to my library\n              </Dropdown.Toggle>\n              <Dropdown.Menu variant=\"dark\" style={{ width: '100%' }}>\n                <Dropdown.Item data-status=\"WANTSTOREAD\" onClick={(e) => handleBookChangeClick(e)}>Want to Read</Dropdown.Item>\n                <Dropdown.Item data-status=\"READING\" onClick={(e) => handleBookChangeClick(e)}>Reading</Dropdown.Item>\n                <Dropdown.Item data-status=\"READ\" onClick={(e) => handleBookChangeClick(e)}>Read</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n\n          </div>\n\n\n        </Card.Body>\n      </Card>\n    </Col>\n  )\n\n}\n\n\nexport default BookItem\n","import { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { useParams, useLocation } from \"react-router-dom\"\nimport BookService from '../../services/books.service'\nimport SearchBar from '../../components/styledComponents/atomicComponents/SearchBar'\nimport SearchBarFilters from '../../components/styledComponents/atomicComponents/SearchBarFilters'\nimport BookItem from '../BookResultsPage/BookItem'\n\nconst bookService = new BookService()\n\nconst BookResultsPage = () => {\n\n\n  const { text } = useParams()\n  const [searchType, setSearchType] = useState('title')\n  const [books, setBooks] = useState([])\n\n  let location = useLocation()\n\n\n  const getBooksByType = () => {\n\n    bookService\n      .getBooksByType(searchType, text.replaceAll(\" \", \"+\"))\n      .then(res => {\n        setBooks(res.data)\n      })\n      .catch(err => console.error(err))\n  }\n\n  const handleRadioClick = (e) => {\n    setSearchType(e.target.value)\n  }\n\n  useEffect(() => {\n    getBooksByType()\n  }, [text, location])\n\n  return (\n    <Container>\n      <Row>\n        <Col style={{ marginBottom: '10px' }}>\n          <h1 className='mb-5 text-center'>These are your results</h1>\n          <SearchBar type='books' searchType={searchType} />\n          <SearchBarFilters handleRadioClick={handleRadioClick} />\n\n        </Col >\n      </Row>\n\n      {books &&\n\n        <Row xs={1} md={3} className=\"g-5\">\n          {books.map((book, i) => (\n            <BookItem key={`${book}-${i}`} book={book} />\n          ))}\n        </Row>\n      }\n\n    </Container>\n  )\n}\n\n\nexport default BookResultsPage\n","import { BOOK_RESULTS } from '../../utils/paths'\r\nimport { Route } from 'react-router-dom'\r\nimport BookResultsPage from '../../pages/BookResultsPage/BookResultsPage'\r\n\r\nconst BookResultsRoutes = () => {\r\n\r\n  return (\r\n    <>\r\n      <Route exact path={BOOK_RESULTS} render={() => <BookResultsPage searchType='text' />} />\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookResultsRoutes\r\n","export default __webpack_public_path__ + \"static/media/vanreading.304905a2.png\";","export default __webpack_public_path__ + \"static/media/bookcover.cba3f3eb.jpg\";","import styled from 'styled-components'\nimport { Button } from 'react-bootstrap'\n\n\nconst LongButton = styled(Button)`\nwidth: 250px;\nheight: 40px;\ntext-align: center;\nfont-weight: 500;\nfont-size: 20px;\n`\n\n\nexport default LongButton\n","import styled from 'styled-components'\nimport reading from '../../../vanreading.png'\nimport bookcover from '../../../bookcover.jpg'\nimport LongButton from '../atomicComponents/LongButton'\n\n\nconst H2 = styled.h2` \nfont-size: 2.8rem;\n`\nconst H6 = styled.h6` \nfont-size: 1.8rem;\n`\n\nconst ImageReading = styled.div`\n  height: 480px;\n  width: 850px;\n  border-bottom-right-radius: 20px;\n  box-shadow: 2px 2px 2px 2px #805d93;\n  background-image: url(${reading});\n  background-size: cover;\n  background-position-y: 56%;\n\n  @media (max-width: 1185px) {\n  width: 100vw;\n  height: 30vh;\n  border-radius: 0px;\n  }\n\n`\n\nconst Welcome = styled.div`\n\nposition: absolute;\nwidth: 535px;\nheight: 200px;\nright: 50px;\ntop: 100px;\ncolor: #613175; \nbackground: #FFFFFF;\nborder-radius: 50px;\nfont-weight: normal;\nfont-size: 48px;\nline-height: 60px;\ntext-align:center;\nbox-shadow: 2px 2px 2px 2px #805d93;\npadding:40px; \nz-index: 1;\n\n@media (max-width: 1185px) {\n    right: 14px;\n    top: 69px;\n    font-size: 18px;\n    width: 198px;\n    height: 80px;\n    line-height: 26px;\n    border-radius: 30px;\n    padding: 15px;\n  \n  }\n\n`\n\nconst NewLife = styled.div`\n\ndisplay:initial;\nposition: absolute;\nwidth: 441px;\nheight: 144px;\nright: 80px;\ntop: 273px;\nbackground: #805D93;\nborder-radius: 50px;\ncolor: #FFFFFF; \nfont-weight: normal;\nfont-size: 20px;\nline-height: 25px;\ntext-align:center;\nbox-shadow: 1px 1px 1px 1px #169873;\npadding:44px; \n\n@media (max-width: 1185px) {\ndisplay: none; \n}  \n\n@media (min-width: 1250px) {\nright: 230px;\ntop: 268px;\n  }\n\n`\n\nconst Ready = styled.div`\nposition: absolute;\nright: 62px;\ntop: 449px;\ntext-align: center;\nfont-weight: 600;\nfont-size: 20px;\nline-height: 25px;\npadding: 5px;\nbackground-color: #f4e7de;\nborder-radius: 20px;\ndisplay: none;\n\n@media (min-width: 1185px) {\n  display: initial;\n}\n\n@media (min-width: 1296px) {\n  font-size: 24px;\n      }\n@media (min-width: 1250px) {\n  right: 32px;\n  }\n\n`\nconst Hit = styled(LongButton)`\ndisplay: none;\nposition: absolute;\nright: 30px;\ntop: 500px;\nborder-radius:15px;\n\n@media (min-width: 1185px) {\n  right: 77px;\n  display: initial;\n    }`\n\nconst Hit2 = styled(LongButton)`\ndisplay: none;\nposition: static;\nborder-radius:15px;\n\n@media (max-width: 1185px) {\n  display: initial;\n    }`\n\nconst Quote = styled.div`\nposition: absolute;\nwidth: 298px;\nbackground: #FFFFFF;\nborder-style:solid;\nborder-width: 1px;\nborder-color: rgba(0, 0, 0, 0.25);\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\nborder-radius: 20px;\nfont-weight: normal;\nfont-size: 13px;\nline-height: 19px;\nfont-weight:500;\ntext-align:center;\npadding:20px;\ndisplay: flex;\nalign-items: center;\nz-index: 1;\ndisplay:none;\n\n@media (min-width: 1250px) {\n    display: initial;\n  }\n`\nconst Quote3 = styled(Quote)`\nleft: 20px;\ntop: 445px;\n`\nconst Quote2 = styled(Quote)`\nleft: 280px;\ntop: 570px;\n`\nconst Quote1 = styled(Quote)`\nleft: 435px;\ntop: 443px;\nmin-height: 114px;\n`\n\nconst RectContainer = styled.div`\ndisplay: block;\n\n@media (max-width:1185px) {  \nmargin-top: 20px;\nmargin-bottom: 20px;  \ndisplay: flex;\nflex-direction: column-reverse;\nalign-items: center;\nflex-wrap: wrap;\njustify-content: center;\n}\n\n`\n\nconst GreenRectangle = styled.div` \npadding: 50px 40px 50px 40px;\nbox-sizing: border-box;\nborder-radius: 50px;\nbackground: #159772;\nwidth: 95%;\ndisplay: flex;\nflex-direction: row;\nflex-wrap: wrap;\njustify-content: center;\n \n\n\n@media (min-width:1185px) {\nposition: absolute;\nwidth: 590px;\ndisplay: grid; \ngrid-template-columns: 0.7fr 1.3fr; \ngrid-template-rows: 1fr; \ngap: 0px 15px; \nalign-items: center;\njustify-items: center;\ngrid-template-areas: \"img text\";\nmin-height: 400px;\nleft: 0px;\ntop: 500px;\nborder-radius: 0px;\nborder-top-right-radius: 50px;\nborder-bottom-right-radius: 50px;\n}\n\n@media (min-width: 1240px) {\n  top: 625px;\n  width: 630px;\n  }\n\n@media (min-width: 1300px){\n  width: 650px;\n  }\n\n`\nconst BookCover = styled.div`\ngrid-area: img;\nheight: 307px;\nwidth: 200px;\nborder-style: solid;\nborder-width: 6px;\nborder-color: #FFFFFF;\nbackground-image: url(${bookcover});\nbackground-size: cover;\nbackground-position: center;\n\n@media (max-width:1185px) {\nmargin-bottom: 10px;\n}\n`\n\nconst BookDesc = styled.div`\ngrid-area: text;\ncolor: #FFFFFF;\nfont-size: 1.5rem;\n`\nconst PurpleRectangle = styled.div`\npadding: 50px 40px 50px 40px;\nwidth: 95%;\nbackground: #805d93;\nborder-radius: 50px;\ncolor: #FFFFFF;\nmargin-bottom: 10px;\n\n\n@media (min-width: 1185px) {\nposition: absolute;\nwidth: 590px;\nmin-height: 540px;\nright: 0px;\ntop: 586px;\nborder-radius: 0px;\nborder-top-left-radius: 50px;\nborder-bottom-left-radius: 50px;\n\n}\n\n@media (min-width: 1300px){\n  width: 650px;\n  }\n\n`\n\nconst BroadFeatures = styled.div`\ndisplay: flex;\njustify-content: flex-start;\ncolor: #FFFFFF;\nfont-size: 1.4rem;\nbox-sizing: border-box;\n`\nconst Icon = styled.div`\ncolor: #FFFFFF;\nfont-size: 1.4rem;\n`\nconst BroadDesc = styled(Icon)`\ncolor: #FFFFFF;\nfont-size: 1.4rem;\npadding-left: 8px;\n`\n\n\n\nexport { H2, H6, ImageReading, Welcome, NewLife, Ready, Hit, Hit2, Quote1, Quote2, Quote3, RectContainer, GreenRectangle, BookCover, BookDesc, PurpleRectangle, BroadFeatures, Icon, BroadDesc }\n","import * as React from 'react'\nimport { H2, H6, ImageReading, Welcome, Ready, NewLife, Hit, Hit2, Quote1, Quote2, Quote3, RectContainer, GreenRectangle, BookCover, BookDesc, PurpleRectangle, BroadFeatures, BroadDesc, Icon } from '../../components/styledComponents/styledPages/HomePageStyle'\nimport { Link } from 'react-router-dom'\nimport { SIGNUP } from '../../utils/paths'\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst HomePage = () => {\n\n  const notify = () => toast('Here is your toast.');\n\n  return (\n    <div style={{ marginTop: '-30px' }}>\n      <ImageReading />\n      <Welcome>welcome to <strong>Broad<br />the books' road</strong></Welcome>\n      <NewLife>\n        The only place where your <strong>books</strong> can find their way to a <strong>new life</strong> !\n      </NewLife>\n      <Ready>Ready to start your journey?</Ready>\n      <Hit className='button-link' as={Link} to={SIGNUP} type=\"submit\">\n        Hit the Road\n      </Hit>\n      <Quote1>“Nothing of me is original. I am the combined effort of everyone I've ever known.” (Chuck Palahniuk)</Quote1>\n      <Quote3>“Read, read, read. Read everything - trash, classics, good and bad, and see how they do it. Just like a carpenter who works as an apprentice and studies the master...”<br />(William Faulkner)</Quote3>\n      <Quote2>\"Leap and the net will appear.\"<br />(John Burroughs)</Quote2>\n      <RectContainer>\n        <GreenRectangle>\n\n          <BookCover />\n\n          <BookDesc>\n            <H2 style={{ textAlign: 'center' }}>Book of the week</H2>\n            <H6 style={{ textAlign: 'center' }}>The Picture of Dorian Gray</H6>\n            <br />\n            <p><strong>Dorian Gray</strong> is the subject of a full-length portrait in oil by Basil Hallward, an artist impressed and infatuated by Dorian's beauty; he believes that Dorian's beauty is responsible for the new mood in his art as a painter.</p>\n            <p>\n              Through Basil, Dorian meets Lord Henry Wotton, and he soon is enthralled by the aristocrat's hedonistic world view: that beauty and sensual fulfilment are the only things worth pursuing in life.</p>\n\n          </BookDesc>\n\n        </GreenRectangle>\n\n        <PurpleRectangle>\n          <BroadFeatures>\n            <Icon><H2>&#128366;</H2></Icon>\n            <BroadDesc>\n              <H2>Create your library</H2>\n              <H6>Recreate your library with your favorite titles, the ones you've read, the ones you're reading at the moment, and those you wish to read</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><H2>&#128472;</H2></Icon>\n            <BroadDesc>\n              <H2>Bookswapping!</H2>\n              <H6>Exchange your books with other users, and give them a new life... Sharing is caring, and it's completely free!</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><H2>&#128489;</H2></Icon>\n            <BroadDesc>\n              <H2>Quotes</H2>\n              <H6>Discover, create and share the best quotes of all times! Vote the ones you like, and save them in your collection.</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><H2>&#128505;</H2></Icon>\n            <BroadDesc>\n              <H2>Challenges</H2>\n              <H6>Take your reading to the next level, and set your personal goals... Challenge accepted?</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <>\n            <H6 onClick={notify} style={{ textAlign: 'center' }}>This and much more awaits for you on Broad!</H6>\n            <Toaster />\n          </>\n\n          <br />\n          <p style={{ textAlign: 'center' }}>\n            <Hit2 className='button-link' as={Link} to={SIGNUP} type=\"submit\">\n              Hit the Road\n            </Hit2>\n          </p>\n\n        </PurpleRectangle>\n      </RectContainer>\n    </div>\n  )\n\n}\n\n\nexport default HomePage\n","import axios from 'axios'\n\n\nclass AuthService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/auth`,\n      withCredentials: true\n    })\n  }\n\n  signup = (email, username, pwd) => this.instance.post(\"/signup\", { email, username, pwd })\n\n  login = (username, pwd) => this.instance.post(\"/login\", { username, pwd })\n\n  logout = () => this.instance.get(\"/logout\")\n\n  isLoggedIn = () => this.instance.post(\"/is-logged-in\")\n\n  refreshSession = () => this.instance.post(\"/refresh-session\")\n\n}\n\n\nexport default AuthService\n","import React, { useState, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport { InputGroup, Button, FormControl, Container } from 'react-bootstrap/'\nimport { Link, useHistory } from 'react-router-dom'\nimport AuthService from '../../services/auth.service'\nimport { SIGNUP } from '../../utils/paths'\n\nconst authService = new AuthService()\n\n\nconst LoginForm = props => {\n\n\tconst [formData, setFormData] = useState({ username: '', pwd: '' })\n\n\tlet history = useHistory()\n\tconst { storeUser } = useContext(UserContext)\n\n\n\tconst clearState = () => {\n\t\tsetFormData({ username: '', pwd: '' })\n\t}\n\n\tconst handleInput = e => {\n\t\tconst { name, value } = e.target\n\t\tsetFormData({ ...formData, [name]: value })\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\n\t\tconst { username, pwd } = formData\n\n\t\tauthService\n\t\t\t.login(username, pwd)\n\t\t\t.then(res => {\n\t\t\t\tstoreUser(res.data)\n\t\t\t\thistory.push('/')\n\t\t\t\tclearState()\n\t\t\t})\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\t\n\treturn (\n\t\t<Container className='d-flex justify-content-center flex-column align-items-center'>\n\n\t\t\t<h3>Log In</h3>\n\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<InputGroup style={{ display: 'inline-block' }}>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Username...\"\n\t\t\t\t\t\taria-label=\"username\"\n\t\t\t\t\t\taria-describedby=\"username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={e => handleInput(e)}\n\t\t\t\t\t/>\n\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Password...\"\n\t\t\t\t\t\taria-label=\"password\"\n\t\t\t\t\t\taria-describedby=\"password\"\n\t\t\t\t\t\tname=\"pwd\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={formData.pwd}\n\t\t\t\t\t\tonChange={e => handleInput(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className='block-button' type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</Button>\n\n\t\t\t\t</InputGroup>\n\t\t\t</form>\n\n\n\t\t\t<Link className='plain-link' to={'#'}>\n\t\t\t\tForgot password?\n\t\t\t</Link>\n\t\t\t<br />\n\n\t\t\t<h6>Don't have an account?</h6>\n\n\n\t\t\t<Button className='block-button' as={Link} to={SIGNUP} type=\"submit\" variant=\"primary\">\n\t\t\t\tSign Up\n\t\t\t</Button>\n\n\t\t</Container>\n\t)\n\n}\n\n\nexport default LoginForm\n","import React, { useState, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport { InputGroup, Button, FormControl, Container } from 'react-bootstrap/'\nimport { Link, useHistory } from 'react-router-dom'\nimport AuthService from '../../services/auth.service'\nimport { LOGIN } from '../../utils/paths'\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst authService = new AuthService()\nconst wrongPassword = () => toast.error(\"Wrong password, please try again.\")\n\n\n\nconst SignupForm = () => {\n\n\tconst [formData, setFormData] = useState({ email: '', username: '', pwd: '' })\n\tconst [toasts, setToasts] = useState()\n\n\tlet history = useHistory()\n\tconst { storeUser } = useContext(UserContext)\n\n\tconst clearState = () => {\n\t\tsetFormData({ email: '', username: '', pwd: '' })\n\t}\n\n\tconst handleChange = e => {\n\t\tconst { value, name } = e.target\n\t\tsetFormData({ ...formData, [name]: value })\n\t}\n\n\tconst handleSubmit = e => {\n\n\t\te.preventDefault()\n\n\t\tconst { email, username, pwd } = formData\n\n\t\tauthService\n\t\t\t.signup(email, username, pwd)\n\t\t\t.then(res => {\n\t\t\t\tstoreUser(res.data.user)\n\t\t\t\t/* \t\t\t\tif (res.code === 401) {\n\t\t\t\t\t\t\t\t\tsetToasts(wrongPassword)\n\t\t\t\t\t\t\t\t} */\n\t\t\t\thistory.push('/signup/genres')\n\t\t\t\tclearState()\n\t\t\t\thistory.push('/')\n\t\t\t})\n\t\t\t.catch(err => err => console.error(err))\n\t}\n\n\treturn (\n\t\t<Container className='d-flex justify-content-center flex-column align-items-center'>\n\t\t\t{toasts}\n\t\t\t<h3>Sign Up</h3>\n\n\t\t\t<form onSubmit={handleSubmit}>\n\n\t\t\t\t<InputGroup style={{ display: 'inline-block' }}>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"E-mail...\"\n\t\t\t\t\t\taria-label=\"email\"\n\t\t\t\t\t\taria-describedby=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.email}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Username...\"\n\t\t\t\t\t\taria-label=\"username\"\n\t\t\t\t\t\taria-describedby=\"username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Password...\"\n\t\t\t\t\t\taria-label=\"password\"\n\t\t\t\t\t\taria-describedby=\"password\"\n\t\t\t\t\t\tname=\"pwd\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={formData.pwd}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className='block-button' type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\n\t\t\t\t</InputGroup>\n\t\t\t</form>\n\n\t\t\t<h6>Already have an account?</h6>\n\n\t\t\t<Button className='block-button' as={Link} to={LOGIN} type=\"submit\" variant=\"primary\">\n\t\t\t\tLog In\n\t\t\t</Button>\n\n\t\t</Container>\n\t)\n\n}\n\n\nexport default SignupForm\n","import axios from 'axios'\n\n\nclass UploadsService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/uploads`,\n      withCredentials: true\n    })\n  }\n\n  uploadImg = (imageForm) => this.instance.post(\"/image\", imageForm)\n\n}\n\n\nexport default UploadsService\n","import { useState } from 'react'\r\nimport { InputGroup, Button, Form, FormControl, Container, Row, Col } from 'react-bootstrap/'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport UsersService from '../../services/users.service'\r\nimport UploadsService from '../../services/uploads.service'\r\n\r\nconst usersService = new UsersService()\r\nconst uploadsService = new UploadsService()\r\n\r\n\r\nconst SignupInfoPage = props => {\r\n\r\n  let history = useHistory()\r\n\r\n  const [formData, setFormData] = useState({ name: '', description: '', profileImage: '', location: '' })\r\n\r\n  const clearState = () => {\r\n    setFormData({ name: '', description: '', profileImage: '', location: '' })\r\n  }\r\n\r\n\r\n  const handleInput = e => {\r\n    const { name, value } = e.target\r\n    setFormData({ ...formData, [name]: value })\r\n  }\r\n\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    const { name, description, profileImage, location } = formData\r\n\r\n    usersService\r\n      .updateSignupInfo(name, description, profileImage, location)\r\n      .then(() => {\r\n        history.push('/profile')\r\n        clearState()\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const handleFile = e => {\r\n\r\n    setFormData({ ...formData, isLoading: true })\r\n\r\n    const uploadedData = new FormData()\r\n    uploadedData.append('imageData', e.target.files[0])\r\n\r\n    uploadsService\r\n      .uploadImg(uploadedData)\r\n      .then(res => setFormData({ ...formData, isLoading: false, profileImage: res.data.cloudinary_url }))\r\n      .catch(err => console.error(err)) // Gestionar error de cara al usuario\r\n  }\r\n\r\n\r\n  return (\r\n    <Container className='d-flex justify-content-center flex-column align-items-center'>\r\n      <Row className='d-flex justify-content-center'>\r\n        <Col>\r\n          <h3>Last step! Now complete your data ✨</h3>\r\n          <Form onSubmit={handleSubmit}>\r\n            <InputGroup style={{ display: 'inline-block' }}>\r\n\r\n              <FormControl\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Name...\"\r\n                aria-label=\"name\"\r\n                aria-describedby=\"name\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                autoFocus\r\n                value={formData.name}\r\n                onChange={handleInput}\r\n              />\r\n              <Form.Control\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Description...\"\r\n                aria-label=\"description\"\r\n                aria-describedby=\"description\"\r\n                name=\"description\"\r\n                type=\"text\"\r\n                as=\"textarea\"\r\n                rows={6}\r\n                value={formData.description}\r\n                onChange={handleInput}\r\n              />\r\n              <FormControl\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Location...\"\r\n                aria-label=\"location\"\r\n                aria-describedby=\"location\"\r\n                name=\"location\"\r\n                type=\"text\"\r\n                value={formData.location}\r\n                onChange={handleInput}\r\n              />\r\n              <p>Profile image</p>\r\n              <div className='d-flex flex-column'>\r\n                <input\r\n                  style={{ maxWidth: '60vw' }}\r\n                  type=\"file\"\r\n                  id=\"profileImage\"\r\n                  aria-label=\"Profile image\"\r\n                  name=\"profileImage\"\r\n                  accept=\"image/png, image/jpeg, image/jpg\"\r\n                  onChange={(e) => handleFile(e)}\r\n                />\r\n\r\n                <Button size='sm' style={{ marginTop: '15px' }} disabled={formData.isLoading} type=\"submit\" variant=\"primary\">\r\n                  Save Data\r\n                </Button>\r\n              </div>\r\n            </InputGroup>\r\n          </Form>\r\n\r\n        </Col>\r\n      </Row>\r\n      <Link to=\"/profile\" className='plain-link' style={{ margin: '15px 0px' }} type=\"submit\" variant=\"primary\">\r\n        Skip\r\n      </Link>\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default SignupInfoPage\r\n","const genres = ['TRAVEL', 'KIDS', 'BUSINESS', 'ART', 'BIOGRAPHY', 'CLASSICS', 'COMICS',\n  'CRIME', 'COOKBOOKS', 'COOKING', 'FANTASY', 'FICTION', 'QUEER', 'HISTORY', 'HORROR',\n  'COMEDY', 'MANGA', 'MUSIC', 'MYSTERY', 'NONFICTION', 'PARANORMAL', 'PHILOSOPHY', 'POETRY', 'PSYCHOLOGY',\n  'RELIGION', 'ROMANCE', 'SCIENCE', 'SCIENCE FICTION', 'SELFHELP', 'SPORTS', 'SPIRITUALITY', 'THRILLER',\n  'YOUNGADULT', 'SUSPENSE', 'PHOTOGRAPHY', 'POLITICS']\n\nexport default genres","import { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { Container, Button, Row, Col } from 'react-bootstrap'\nimport UsersService from '../../services/users.service'\nimport genres from '../../utils/bookGenres'\n\nconst usersService = new UsersService()\n\n\nconst SignupGenresPage = props => {\n\n\tconst [favoriteGenres, setSignupGenresData] = useState([])\n\n\tlet history = useHistory()\n\n\tconst clearState = () => {\n\t\tsetSignupGenresData([])\n\t}\n\n\n\tconst handleClick = e => {\n\t\tconst currentGenre = e.target.innerText\n\n\t\tif (!favoriteGenres.includes(currentGenre)) {\n\t\t\tsetSignupGenresData(favoriteGenres => [...favoriteGenres, currentGenre])\n\t\t} else {\n\t\t\tsetSignupGenresData(favoriteGenres =>\n\t\t\t\tfavoriteGenres.filter(genre => genre !== currentGenre)\n\t\t\t)\n\t\t}\n\t}\n\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\n\t\tusersService\n\t\t\t.updateFavoriteGenres(favoriteGenres)\n\t\t\t.then(() => {\n\t\t\t\thistory.push('/signup/info')\n\t\t\t\tclearState()\n\t\t\t})\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row className=\"d-flex justify-content-center\">\n\t\t\t\t<Col md={6} xs={12}>\n\t\t\t\t\t<h2 className=\"mb-5\">Choose your favorite genres 📚 </h2>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className='buttonsList' style={{ display: 'flex', flexWrap: 'wrap', gap: '5px' }}>\n\t\t\t\t\t\t\t{genres.map((genre, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={e => handleClick(e)}\n\t\t\t\t\t\t\t\t\t\tkey={`genre${i}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexGrow: '1' }}\n\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\tfavoriteGenres?.includes(genre) ? 'primary' : 'secondary'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Button type=\"submit\" className=\"mt-4\" style={{ width: '100%' }} variant=\"primary\">\n\t\t\t\t\t\t\tSUBMIT\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Link to=\"/signup/info\" className='plain-link mt-4' style={{ width: '100%', margin: 'auto' }} as={Link} to={'#'} type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\t\t<p style={{ textAlign: 'center' }}>Skip</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n\n\nexport default SignupGenresPage\n","import axios from 'axios'\n\n\nclass RequestsService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/requests`,\n      withCredentials: true\n    })\n  }\n\n  getRequests = () => this.instance.get('/')\n\n  manageRequest = (id, status) => this.instance.put('/', { id, status })\n\n  createRequest = (receiver, type, book) => this.instance.post('/', { receiver, type, book })\n\n  deleteRequest = (otherUserId, type) => this.instance.delete('/', { data: { otherUserId, type } })\n\n  getRequest = (otherUserId, type) => this.instance.get(`/${type}?otherUserId=${otherUserId}`)\n\n  getExchangeRequest = (otherUserId, bookId) => this.instance.get(`/exchange?otherUserId=${otherUserId}&bookId=${bookId}`)\n\n}\n\n\nexport default RequestsService\n","import { Link } from 'react-router-dom'\r\nimport { Button, Row, Col } from 'react-bootstrap'\r\nimport RequestsService from '../../services/requests.service'\r\n\r\nconst requestsService = new RequestsService()\r\n\r\n\r\nconst RequestsItem = ({ _id, owner, book, getRequests }) => {\r\n\r\n  const changeRequestStatus = e => {\r\n\r\n    e.preventDefault()\r\n\r\n    const status = e.target.dataset.status\r\n\r\n    requestsService\r\n      .manageRequest(_id, status)\r\n      .then(() => getRequests())\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3} style={{ marginTop: '10px' }}>\r\n        <Row className='request-card mb-3'>\r\n          <p><b>{book?.title}</b></p>\r\n          <Col className='col-3'>\r\n            <Link className='plain-link' to={`/users/${owner._id}`}>{owner.username}</Link>\r\n          </Col>\r\n          <Col className='col-8'>\r\n            <Button onClick={changeRequestStatus} data-status=\"ACCEPTED\" variant=\"secondary\" style={{ marginRight: '3px' }}>Accept</Button>\r\n            <Button onClick={changeRequestStatus} data-status=\"REJECTED\" variant=\"primary\">Reject</Button>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsItem\r\n","import { Container, Row } from 'react-bootstrap'\r\nimport RequestItem from './RequestItem'\r\n\r\n\r\nconst RequestsList = ({ getRequests, requests }) => {\r\n\r\n  const friendshipRequests = requests.filter(request => request.type === 'FRIENDSHIP')\r\n  const exchangeRequests = requests.filter(request => request.type === 'EXCHANGE')\r\n\r\n  const displayRequests = requestsArr => requestsArr.map(request => {\r\n    return <RequestItem key={request._id} {...request} getRequests={getRequests} />\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        friendshipRequests.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5\">Friendship Requests</h2>\r\n          {displayRequests(friendshipRequests)}\r\n        </>\r\n      }\r\n\r\n      {\r\n        exchangeRequests.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5\">Exchange Requests</h2>\r\n          {displayRequests(exchangeRequests)}\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport RequestsService from '../../services/requests.service'\r\nimport RequestsList from './RequestsList'\r\n\r\nconst requestsService = new RequestsService()\r\nconst RequestsPage = props => {\r\n\r\n  const [requests, setRequests] = useState(null)\r\n\r\n  const getRequests = () => {\r\n\r\n    requestsService\r\n      .getRequests()\r\n      .then(res => setRequests(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getRequests()\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"mb-5\">My Requests</h1>\r\n      {requests?.length ?\r\n        <RequestsList getRequests={getRequests} requests={requests} />\r\n        :\r\n        <p>No pending requests.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsPage\r\n","import styled from 'styled-components'\n\n\nconst Header = styled.div`\n  color: #FFFFFF;\n  text-align: center;\n  background-repeat: no-repeat;\n  border-radius: 15px;\n  background-size: cover; \n  height: 20vh; \n  background-image: url(https://images.unsplash.com/photo-1473755504818-b72b6dfdc226?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1074&q=80)\n`\n\nconst ProfilePicture = styled.div`\n  height: 200px; \n  width: 200px; \n  border-radius: 50%; \n  border: 3px solid white;\n  background-image: url(${props => props.image});\n  background-size: cover;\n  background-position: center;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 15px;\n`\n\nexport { Header, ProfilePicture }\n","import { useState, useEffect, useContext } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport { Button, Card, Col } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport UsersService from '../../services/users.service'\r\nimport RequestsService from '../../services/requests.service'\r\nimport { ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\r\n\r\nconst usersService = new UsersService()\r\nconst requestsService = new RequestsService()\r\n\r\n\r\nconst UsersItem = ({ getUsers, user }) => {\r\n\r\n  // props user: _id, username, readBooks, city, rating, timesRated,\r\n  // exchangedBooksByUser, favoriteGenres, number of friends, profileImage\r\n\r\n  const [friendshipRequest, setFriendshipRequest] = useState(null)\r\n  const [buttonToShow, setButtonToShow] = useState('')\r\n  const [areFriends, setAreFriends] = useState(false)\r\n\r\n  const { loggedUser, storeUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n  const type = 'FRIENDSHIP'\r\n\r\n  useEffect(() => {\r\n    existFriendshipRequest()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    selectButtonToShow()\r\n  }, [friendshipRequest])\r\n\r\n  useEffect(() => {\r\n    checkFriendship()\r\n  }, [user])\r\n\r\n\r\n  const handleFriendship = (e, promise) => {\r\n\r\n    e.preventDefault()\r\n\r\n    promise\r\n      .then(() => {\r\n        existFriendshipRequest()\r\n        getUsers()\r\n        return usersService.getUserInfo(currentUserId)\r\n      })\r\n      .then(res => storeUser(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const checkFriendship = () => setAreFriends(user.friends.includes(currentUserId))\r\n\r\n\r\n  const existFriendshipRequest = () => {\r\n\r\n    requestsService\r\n      .getRequest(user._id, type)\r\n      .then(res => {\r\n        if (res.data) {\r\n          setFriendshipRequest(res.data)\r\n        } else {\r\n          setFriendshipRequest(null)\r\n          setButtonToShow('')\r\n        }\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  const userIsOwner = () => friendshipRequest.owner === currentUserId\r\n  const userIsReceiver = () => friendshipRequest.owner === user._id\r\n\r\n  const selectButtonToShow = () => {\r\n    if (friendshipRequest?.status === 'PENDING' && userIsOwner()) {\r\n      setButtonToShow('PENDING OWNER')\r\n    } else if (friendshipRequest?.status === 'PENDING' && userIsReceiver()) {\r\n      setButtonToShow('PENDING RECEIVER')\r\n    } else if (friendshipRequest?.status === 'REJECTED' && userIsOwner()) {\r\n      setButtonToShow('REJECTED OWNER')\r\n    } else if (friendshipRequest?.status === 'REJECTED' && userIsReceiver()) {\r\n      setButtonToShow('REJECTED RECEIVER')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Col md={3}>\r\n      <Card className='user-card'>\r\n\r\n\r\n\r\n        <Card.Body>\r\n          <Link to={`/users/${user._id}`}>\r\n            <ProfilePicture variant=\"top\" image={user.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\r\n          </Link>\r\n          <Card.Title>{user.username}</Card.Title>\r\n          <Link className='plain-link' to={`/users/${user._id}`}>Visit Profile</Link>\r\n          <br />\r\n\r\n          {!areFriends && !friendshipRequest &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.createRequest(user._id, type))}\r\n              variant=\"primary\">\r\n              Add Friend\r\n            </Button>\r\n          }\r\n\r\n          {(buttonToShow === 'PENDING OWNER' || buttonToShow === \"REJECTED OWNER\") &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.deleteRequest(user._id, type))}\r\n              variant=\"info\" style={{ color: 'white' }}>\r\n              Cancel Request\r\n            </Button>\r\n          }\r\n\r\n          {(buttonToShow === 'PENDING RECEIVER' || buttonToShow === 'REJECTED RECEIVER') &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.manageRequest(friendshipRequest._id, 'ACCEPTED'))}\r\n              variant=\"primary\" style={{ marginRight: '10px' }}>\r\n              Accept\r\n            </Button>\r\n          }\r\n\r\n          {buttonToShow === 'PENDING RECEIVER' &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.manageRequest(friendshipRequest._id, 'REJECTED'))}\r\n              variant=\"primary\">\r\n              Reject\r\n            </Button>\r\n          }\r\n\r\n          {areFriends &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, usersService.deleteFriend(user._id))}\r\n              variant=\"danger\" style={{ color: 'white' }}>\r\n              Delete Friend\r\n            </Button>\r\n          }\r\n        </Card.Body>\r\n\r\n\r\n      </Card>\r\n    </Col>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersItem\r\n","import UserItem from './UserItem'\r\nimport { Row } from 'react-bootstrap'\r\n\r\n\r\nconst UsersList = ({ getUsers, users }) => {\r\n\r\n  const displayUsers = () => users.map(user => {\r\n    return <UserItem key={user._id} user={user} getUsers={getUsers} />\r\n  })\r\n\r\n  return (\r\n    <Row>\r\n      {displayUsers()}\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport UsersService from '../../services/users.service'\r\nimport UsersList from './UsersList'\r\n\r\nconst usersService = new UsersService()\r\n\r\n\r\nconst UsersPage = () => {\r\n\r\n  const [users, setUsers] = useState(null)\r\n\r\n  const getUsers = () => {\r\n    usersService\r\n      .getUsers()\r\n      .then(res => setUsers(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"text-center mb-4\">Broad Users</h1>\r\n      {users?.length ?\r\n        <UsersList getUsers={getUsers} users={users} />\r\n        :\r\n        <p>No users to show.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersPage\r\n","import axios from 'axios'\n\n\nclass ChatService {\n  \n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/chats`,\n      withCredentials: true,\n    })\n  }\n\n  getUserChats = () => this.instance.get('/')\n\n  createChat = otherUserId => this.instance.post('/', { otherUserId })\n\n  addMessage = (message, chat) => this.instance.put('/', { message, chat })\n\n}\n\n\nexport default ChatService\n","import { useState, useEffect, useContext, } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport { Button, Card, Row, Col } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { CHATS } from '../../utils/paths'\r\nimport defaultImages from '../../utils/defaultImages.js'\r\nimport RequestsService from '../../services/requests.service'\r\nimport ChatsService from '../../services/chats.service'\r\n\r\nconst requestsService = new RequestsService()\r\nconst chatsService = new ChatsService()\r\n\r\n\r\nconst BookToExchangeItem = ({ id, owner, ownerId, title, authors, image }) => {\r\n\r\n  const [exchangeRequest, setExchangeRequest] = useState(null)\r\n  const [buttonToShow, setButtonToShow] = useState('')\r\n  const [chatExists, setChatExists] = useState(false)\r\n\r\n  const { loggedUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n  let history = useHistory()\r\n  const type = 'EXCHANGE'\r\n\r\n  useEffect(() => {\r\n    existExchangeRequest()\r\n    checkChat()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    selectButtonToShow()\r\n  }, [exchangeRequest])\r\n\r\n\r\n  const handleClick = (e, promise) => {\r\n\r\n    e.preventDefault()\r\n\r\n    promise\r\n      .then(() => {\r\n        existExchangeRequest()\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const checkChat = () => {\r\n\r\n    chatsService\r\n      .getUserChats()\r\n      .then(res => res.data.forEach(chat => chat.participants.includes(ownerId) && setChatExists(true)))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const createChat = e => {\r\n\r\n    e.preventDefault()\r\n\r\n    chatsService\r\n      .createChat(ownerId)\r\n      .then(() => history.push(`${CHATS}`))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const existExchangeRequest = () => {\r\n\r\n    requestsService\r\n      .getExchangeRequest(ownerId, id)\r\n      .then(res => {\r\n\r\n        if (res.data) {\r\n          setExchangeRequest(res.data)\r\n        } else {\r\n          setExchangeRequest(null)\r\n          setButtonToShow('')\r\n        }\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const userIsOwner = () => exchangeRequest.owner === currentUserId\r\n  const userIsReceiver = () => exchangeRequest.owner === ownerId\r\n\r\n\r\n  const selectButtonToShow = () => {\r\n    if (exchangeRequest?.status === 'PENDING' && userIsOwner()) {\r\n      setButtonToShow('PENDING OWNER')\r\n    } else if (exchangeRequest?.status === 'PENDING' && userIsReceiver()) {\r\n      setButtonToShow('PENDING RECEIVER')\r\n    } else if (exchangeRequest?.status === 'REJECTED' && userIsOwner()) {\r\n      setButtonToShow('REJECTED OWNER')\r\n    } else if (exchangeRequest?.status === 'REJECTED' && userIsReceiver()) {\r\n      setButtonToShow('REJECTED RECEIVER')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Col>\r\n      <Card style={{ height: '100%' }}>\r\n        <Card.Img className=\"p-4\" style={{ maxHeight: '200px', objectFit: 'contain' }} variant=\"top\" src={image ? image : defaultImages.bookCover} />\r\n        <Card.Body style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n          <Card.Title>{title?.length < 15 ? title : title}</Card.Title>\r\n\r\n          {authors &&\r\n            <Card.Text>\r\n              {\r\n                (authors?.length > 1 ?\r\n                  authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\r\n                  :\r\n                  authors[0])\r\n              }\r\n\r\n            </Card.Text>\r\n          }\r\n\r\n          <Card.Text>\r\n            <p>Owner : {owner}</p>\r\n          </Card.Text>\r\n\r\n          <div className=\"mt-2 d-flex justify-content-center\" >\r\n            {!chatExists &&\r\n              <Button\r\n                onClick={e => createChat(e)}\r\n                style={{ marginRight: '1rem' }}\r\n                variant=\"info\">\r\n                Start Chat\r\n              </Button>\r\n            }\r\n\r\n            {chatExists &&\r\n              <Button\r\n                as={Link} to={CHATS}\r\n                variant=\"secondary\"\r\n                style={{ marginRight: '1rem' }}>\r\n                Open Chat\r\n              </Button>\r\n            }\r\n\r\n            {!exchangeRequest &&\r\n              <Button\r\n                onClick={e => handleClick(e, requestsService.createRequest(ownerId, type, { id, title }))}\r\n                variant=\"primary\">\r\n                Send Exchange Request\r\n              </Button>\r\n            }\r\n\r\n            {(buttonToShow === 'PENDING OWNER' || buttonToShow === \"REJECTED OWNER\") &&\r\n              <Button\r\n                onClick={e => handleClick(e, requestsService.deleteRequest(ownerId, type))}\r\n                variant=\"danger\" style={{ color: 'white' }}>\r\n                Cancel Request\r\n              </Button>\r\n            }\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookToExchangeItem\r\n","import BookToExchangeItem from './BookToExchangeItem'\r\nimport { Row } from 'react-bootstrap'\r\n\r\n\r\nconst BooksToExchangeList = ({ getBooksToExchange, booksToExchange }) => {\r\n\r\n  const displayBooksToExchange = () => booksToExchange.map(bookToExchange => {\r\n    return <BookToExchangeItem\r\n      key={`${bookToExchange.id} - ${bookToExchange.owner}`}\r\n      {...bookToExchange}\r\n      getBooksToExchange={getBooksToExchange}\r\n    />\r\n  })\r\n\r\n  return (\r\n    booksToExchange.length > 0 &&\r\n    <Row xs={1} md={3} className=\"g-5 mt-2 mb-5\">\r\n      {displayBooksToExchange(booksToExchange)}\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BooksToExchangeList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport BooksToExchangeList from './BooksToExchangeList'\r\nimport UsersService from '../../services/users.service'\r\nimport SearchBar from '../../components/styledComponents/atomicComponents/SearchBar'\r\nimport SearchBarFilters from '../../components/styledComponents/atomicComponents/SearchBarFilters'\r\n\r\nconst usersService = new UsersService()\r\n\r\n\r\nconst BookExchangePage = props => {\r\n\r\n  const [booksToExchange, setBooksToExchange] = useState(null)\r\n  const [searchType, setSearchType] = useState('')\r\n\r\n  useEffect(() => {\r\n    getBooksToExchange()\r\n  }, [])\r\n\r\n\r\n  const getBooksToExchange = () => {\r\n\r\n    usersService\r\n      .getBooksToExchange()\r\n      .then(res => setBooksToExchange(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  const handleRadioClick = (e) => {\r\n    setSearchType(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"mb-5 text-center\">Available Books To Exchange</h1>\r\n\r\n      <SearchBar type={'exchange'} />\r\n      <SearchBarFilters type={'exchange'} handleRadioClick={handleRadioClick} />\r\n\r\n      {booksToExchange?.length ?\r\n        <BooksToExchangeList getBooksToExchange={getBooksToExchange} booksToExchange={booksToExchange} />\r\n        :\r\n        <p>No books available.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookExchangePage\r\n","import { useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { EDIT_PROFILE, BOOKS_EXCHANGED } from '../../utils/paths'\nimport UserContext from '../../UserContext'\nimport { Container, Row, Button } from 'react-bootstrap'\nimport { Header, ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\nimport AuthService from '../../services/auth.service'\nimport styled from 'styled-components'\n\nconst authService = new AuthService()\n\nconst Description = styled.div`\n\nwidth: 90%;\nbackground: #FFFFFF;\ncolor: #000000;\nborder-style:solid;\nborder-width: 1px;\nborder-color: rgba(0, 0, 0, 0.25);\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\nborder-radius: 20px;\nfont-style: oblique;\nfont-weight: normal;\nfont-size: 13px;\nline-height: 19px;\nfont-weight:500;\ntext-align:center;\npadding:20px;\nalign-items: center;\nmargin-bottom: 15px;\n`\n\n\nconst UserProfilePage = () => {\n\n  const { loggedUser, storeUser } = useContext(UserContext)\n\n\n  useEffect(() => {\n    authService\n      .refreshSession()\n      .then(res => storeUser(res.data))\n      .catch(err => console.error(err))\n  }, [])\n\n\n  return loggedUser ? (\n    <Container className=\"mb-5\" style={{ height: '100vh', borderRadius: '15px' }}>\n      <Row style={{ minHeight: '60vh' }}>\n\n        <Header className=\"col-md-12 header p-5 mb-5\" />\n\n        <div className=\"col-md-4 col-sm-12 mb-3\" style={{ background: '#F4E7DE', height: '100%' }}>\n          <div className=\"ml-5 d-flex align-items-center justify-content-between flex-column p-5\" style={{ background: '#805D93', height: '80%', borderRadius: '15px' }} >\n\n            <div className=\"info\">\n              <div className=\"info mt-2\" style={{ color: 'white', fontSize: '2rem' }}>\n                <div className=\"d-flex flex-column align-items-center\">\n                  <ProfilePicture image={loggedUser.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\n                  <p>{loggedUser.username}</p>\n                  <Description>\"{loggedUser.description}\" <br />\n                    <div style={{ textAlign: 'right', fontWeight: '800' }}> {loggedUser.name}</div>\n                  </Description>\n                </div>\n                <p>Friends: {loggedUser.friends?.length}</p>\n                <p>Read books: {loggedUser.books?.filter(book => book.status === 'READ').length}</p>\n                <p>Wants to Read: {loggedUser.books?.filter(book => book.status === 'WANTSTOREAD').length}</p>\n              </div>\n            </div>\n\n            <Button style={{ width: '100%', alignSelf: 'flex-end' }} className='button-link' as={Link} to={EDIT_PROFILE} variant=\"secondary\" size=\"lg\"> Edit Profile </Button>\n\n          </div>\n        </div>\n\n        <div className=\"col-md-8 col-sm-12\" style={{ background: '#F4E7DE' }}>\n          <div className=\"ml-5 p-5 \" style={{ background: '#805D93', height: '100%', borderRadius: '15px', color: 'white' }} >\n            <h1 className=\"mb-5\">My Books 📚</h1>\n            {/* TODO Create pages for the following */}\n            <Link className=\"plain-link-profile\" to='#'><h3>→ I Want To Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Reading</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Read</h3></Link>\n            <Link className=\"plain-link-profile\" to={`/${loggedUser._id}/exchanged`}><h3>→ Exchanged Books</h3></Link>\n          </div>\n        </div>\n      </Row>\n    </Container>\n  )\n    : (\n      <h3>Loading...</h3>\n    )\n\n}\n\n\nexport default UserProfilePage\n","import { useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { InputGroup, Button, Form, FormControl, Container, Row, Col } from 'react-bootstrap/'\nimport UsersService from '../../services/users.service'\nimport UploadsService from '../../services/uploads.service'\nimport UserContext from '../../UserContext'\n\nconst usersService = new UsersService()\nconst uploadsService = new UploadsService()\n\n\nconst EditUserPage = props => {\n\n  let history = useHistory()\n  const { loggedUser, storeUser } = useContext(UserContext)\n  const [formData, setFormData] = useState({ name: '', email: '', description: '', profileImage: '', location: '' })\n\n  useEffect(() => {\n    setFormData({ name: loggedUser?.name, email: loggedUser?.email, description: loggedUser?.description, profileImage: loggedUser?.profileImage, location: loggedUser?.location })\n\n  }, [loggedUser])\n\n  const clearState = () => {\n    setFormData({ name: '', email: '', description: '', profileImage: '', location: '' })\n  }\n\n\n  const handleInput = e => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    //incluir campos nuevos\n    const { name, email, description, profileImage, location } = formData\n    // TODO revisar\n    usersService\n      .editUserInfo(name, email, description, profileImage, location)\n      .then(res => { \n        storeUser(res.data)\n        clearState()\n        history.push('/profile')\n      })\n      .catch(err => console.error(err))\n  }\n\n\n  const handleFile = e => {\n\n    setFormData({ ...formData, isLoading: true })\n\n    const uploadedData = new FormData()\n    uploadedData.append('imageData', e.target.files[0])\n\n    uploadsService\n      .uploadImg(uploadedData)\n      .then(res => setFormData({ ...formData, isLoading: false, profileImage: res.data.cloudinary_url }))\n      .catch(err => console.error(err)) // TODO Gestionar error de cara al usuario\n  }\n\n\n  return (\n    <Container className='d-flex justify-content-center flex-column align-items-center'>\n      <Row className='d-flex justify-content-center'>\n        <Col>\n\n          <h3>Edit profile</h3>\n\n          <Form onSubmit={handleSubmit}>\n            <InputGroup style={{ display: 'inline-block' }}>\n\n              <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Name...\"\n                aria-label=\"name\"\n                aria-describedby=\"name\"\n                name=\"name\"\n                type=\"text\"\n                autoFocus\n                value={formData.name}\n                onChange={handleInput}\n              />\n\n              <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"E-mail...\"\n                aria-label=\"email\"\n                aria-describedby=\"email\"\n                name=\"email\"\n                type=\"text\"\n                autoFocus\n                value={formData.email}\n                onChange={handleInput}\n              />\n\n              <Form.Control\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Description...\"\n                aria-label=\"description\"\n                aria-describedby=\"description\"\n                name=\"description\"\n                type=\"text\"\n                as=\"textarea\"\n                rows={6}\n                value={formData.description}\n                onChange={handleInput}\n              />\n\n              <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Location...\"\n                aria-label=\"location\"\n                aria-describedby=\"location\"\n                name=\"location\"\n                type=\"text\"\n                value={formData.location}\n                onChange={handleInput}\n              />\n\n              <p>Profile image</p>\n              <div className='d-flex flex-column'>\n                <input\n                  style={{ maxWidth: '60vw' }}\n                  type=\"file\"\n                  id=\"profileImage\"\n                  aria-label=\"Profile image\"\n                  name=\"profileImage\"\n                  accept=\"image/png, image/jpeg, image/jpg\"\n                  onChange={(e) => handleFile(e)}\n                />\n\n                <Button size='sm' style={{ marginTop: '15px' }} disabled={formData.isLoading} type=\"submit\" variant=\"primary\">\n                  Save Data\n                </Button>\n              </div>\n\n            </InputGroup>\n          </Form>\n\n        </Col>\n      </Row>\n    </Container>\n  )\n\n}\n\n\nexport default EditUserPage\n","import React, { useContext, useEffect, useState } from 'react'\nimport UserContext from '../../UserContext'\nimport { useLocation } from 'react-router-dom'\nimport UsersService from '../../services/users.service'\nimport queryString from 'query-string'\nimport { Card, Button } from 'react-bootstrap'\n\n\nconst ChatItem = ({ chat, handleChat, currentChat }) => {\n\n  const { loggedUser } = useContext(UserContext)\n  const chatUserId = chat.participants.find(participant => participant !== loggedUser._id)\n  const usersService = new UsersService()\n\n  const [otherUser, setOtherUser] = useState(undefined)\n  const [isThisChatOpen, setIsThisChatOpen] = useState(false)\n\n  const location = useLocation()\n  const data = queryString.parse(location.search)\n\n  useEffect(() => {\n    setIsThisChatOpen(chat === currentChat)\n  }, [data])\n\n  useEffect(() => {\n    if (loggedUser) {\n      usersService\n        .getUserInfo(chatUserId)\n        .then(res => {\n          setOtherUser(res.data)\n        })\n        .catch(err => console.error(err))\n    }\n\n  }, [loggedUser])\n\n\n  return (\n    <>\n      {loggedUser &&\n        <div className=\"d-flex\">\n          <Card className=\"mb-4\" style={{ width: '100%' }} body>\n            <h5>Chat with: {otherUser?.username}</h5>\n            {isThisChatOpen ?\n              (\n                <Button variant='info' onClick={() => { handleChat(true, chat, otherUser) }}>\n                  Close Chat\n                </Button>\n              )\n              :\n              (\n                <Button onClick={() => { handleChat(false, chat, otherUser) }}>\n                  Open Chat\n                </Button>\n              )\n            }\n          </Card>\n        </div>\n      }\n    </>\n  )\n\n}\n\n\nexport default ChatItem\n","import styled from 'styled-components'\n\n\nconst OuterContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n  background-color: #FFFF;\n  border: 1px solid #cfcfcf;\n  border-radius: 5px;\n    \n  @media(min - width: 320px) and(max - width: 480px) {\n    height: 100 %;\n  };\n\n`\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 8px;\n  height: 100%;\n  width: 100%;\n    ::-webkit-scrollbar {\n    color: red;\n  }\n  @media(min - width: 320px) and(max - width: 480px) {\n    height: 100 %\n  };\n  @media(min - width: 480px) and(max - width: 1200px) {\n    width: 60 %;\n  };\n`\n\nconst LeftInnerContainer = styled.div`\n  flex: 0.5;\n  display: flex;\n  align-items: center;\n  margin-left: 5%;\n  color: white;\n`\n\nconst RightInnerContainer = styled.div`\n  display: flex;\n  flex: 0.5;\n  justify-content: flex-end;\n  margin-right: 5%;\n`\n\nconst MessageContainerEnd = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 5%;\n  margin-top: 3px;\n\n`\n\nconst MessageBox = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 5px 20px;\n`\n\nconst MessageContainerStart = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  padding: 0 5%;\n  margin-top: 3px;\n\n`\n\nconst PurpleMessage = styled.div`\n  background: #805d93;\n  color: white;\n  padding: 1rem;\n  border-radius: 8px;\n\n`\n\nconst LightMessage = styled.div`\n  background: #eaeaea;\n  padding: 1rem;\n  border-radius: 8px;\n`\n\nconst AdminMessage = styled.div`\n  background: #159772;\n  min-width: 100%;\n  padding: 1rem;\n  border-radius: 8px;\n  color: white;\n  text-align: center;\n  top: 0;\n  & p {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n`\n\nexport { OuterContainer, ChatContainer, LeftInnerContainer, RightInnerContainer, MessageContainerStart, MessageContainerEnd, LightMessage, PurpleMessage, MessageBox, AdminMessage }\n","import { LeftInnerContainer, RightInnerContainer } from '../../../components/styledComponents/ChatStyle'\nimport onlineIcon from '../../../components/icons/online-icon.png'\nimport './InfoBar.css'\n\n\nconst InfoBar = ({ otherUser, handleClick }) => {\n\n  return (\n    <div className=\"infoBar\">\n      <LeftInnerContainer>\n        <img src={onlineIcon} alt=\"green light online\" className=\"onlineIcon\" />\n        <h3>{otherUser.username}</h3>\n      </LeftInnerContainer>\n      <RightInnerContainer>\n        <svg onClick={() => handleClick()} style={{ cursor: \"pointer\" }} xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"white\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n          <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n        </svg>\n      </RightInnerContainer>\n    </div>\n  )\n\n}\n\n\nexport default InfoBar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import { Form, Row, Button } from 'react-bootstrap'\n\n\nconst Input = ({ message, sendMessage, setMessage }) => {\n  return (\n\n    <Form.Group>\n      <Row id=\"chatRow\">\n        <div className=\"col-10\">\n          <Form.Control\n            style={{ resize: \"none\", width: \"100%\" }} as=\"textarea\" rows={3} placeholder=\"Type a message...\"\n            value={message}\n            onChange={(e) => { setMessage(e.target.value) }}\n            onKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null} />\n        </div>\n        <div className=\"col-2\">\n          <Button onClick={(e) => sendMessage(e)} style={{ width: \"100%\", height: \"100%\", padding: \"0\" }}>Send</Button>\n        </div>\n      </Row>\n    </Form.Group>\n  )\n}\n\n\nexport default Input\n","import { MessageContainerEnd, MessageContainerStart, PurpleMessage, LightMessage, AdminMessage } from \"../../components/styledComponents/ChatStyle\"\nimport ReactEmoji from 'react-emoji'\nimport UserContext from '../../UserContext'\nimport { useContext } from \"react\"\n\nconst Message = ({ message, otherUser }) => {\n\n  console.log(message)\n\n  const { loggedUser } = useContext(UserContext)\n\n  return (\n    <div>\n      {(message.owner === loggedUser._id || message.user === loggedUser.username) &&\n\n        <MessageContainerEnd>\n          <LightMessage className=\"mb-4\" text={message.text}>\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(message.text)}</p>\n          </LightMessage>\n        </MessageContainerEnd>\n\n      }\n\n      {message.user === 'admin' &&\n        <AdminMessage className=\"mb-4\" text={message.text}>\n          <p className=\"messageText colorWhite\">{ReactEmoji.emojify(message.text)}</p>\n        </AdminMessage>\n      }\n\n      {message.owner !== loggedUser._id && message.user !== loggedUser.username && message.user !== 'admin' &&\n\n        <MessageContainerStart>\n          <PurpleMessage className=\"mb-4\">\n            <p className=\"sentText colorDark pl-10 mb-4\">{ReactEmoji.emojify(message.text)}</p>\n          </PurpleMessage>\n        </MessageContainerStart>\n\n      }\n    </div>\n\n\n    /* currentMessage.user === 'currentUser' ?\n\n      (\n        <div>\n          <MessageContainerEnd>\n            <LightMessage className=\"mb-4\" text={currentMessage.text}>\n              <p className=\"messageText colorWhite\">{ReactEmoji.emojify(currentMessage.text)}</p>\n            </LightMessage>\n          </MessageContainerEnd>\n        </div>\n      )\n\n      :\n\n      (currentMessage.user === 'admin' ?\n\n        (\n          <div >\n            <AdminMessage className=\"mb-4\" text={currentMessage.text}>\n              <p className=\"messageText colorWhite\">{ReactEmoji.emojify(currentMessage.text)}</p>\n            </AdminMessage>\n          </div>\n        )\n\n        :\n\n        (\n          <div>\n            <MessageContainerStart>\n              <PurpleMessage className=\"mb-4\">\n                <p className=\"sentText colorDark pl-10 mb-4\">{ReactEmoji.emojify(currentMessage.text)}</p>\n              </PurpleMessage>\n            </MessageContainerStart>\n          </div>\n        )\n      ) */\n  )\n\n}\n\n\nexport default Message\n","import ScrollToBottom from 'react-scroll-to-bottom'\nimport React, { useContext } from 'react'\nimport Message from './Message'\nimport UserContext from '../../UserContext'\n\nconst Messages = ({ messages, otherUser }) => {\n\n  const { loggedUser } = useContext(UserContext)\n  const displayMessages = (messagesToShow) => messagesToShow.map((message, i) => <Message key={`message${loggedUser}${i}`} message={message} otherUser={otherUser} />)\n\n  return (\n    <ScrollToBottom initialScrollBehavior='smooth' mode='bottom' >\n      <div style={{ maxHeight: \"60vh\" }}>\n\n        {displayMessages(messages)}\n\n      </div>\n    </ScrollToBottom>\n  )\n\n}\n\n\nexport default Messages\n","\nimport { useEffect, useState, useContext } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport ChatItem from './ChatItem'\nimport UserContext from '../../UserContext'\nimport { useLocation, useHistory } from 'react-router-dom'\nimport queryString from 'query-string'\nimport Chat from './Chat'\nimport ChatsService from '../../services/chats.service'\n\n\nconst ChatPage = () => {\n\n  const { loggedUser } = useContext(UserContext)\n  const location = useLocation()\n  const data = queryString.parse(location.search)\n  let history = useHistory()\n  //const usersService = new UsersService()\n\n  const chatsService = new ChatsService()\n  const [chats, setChats] = useState([])\n  const [isChatOpen, setIsChatOpen] = useState(false)\n  const [otherUser, setOtherUser] = useState(undefined)\n  const [currentChat, setCurrentChat] = useState(undefined)\n\n\n  const handleChat = (isOpen, chat, otherUser) => {\n\n    if (isOpen) {\n      history.push('/chats')\n      setCurrentChat(undefined)\n    } else if (!isOpen) {\n      setCurrentChat(chat)\n      setOtherUser(otherUser)\n      history.push(`/chats?user=${otherUser._id}`)\n    }\n  }\n\n  const handleClick = () => {\n    history.push(`/chats`)\n    setCurrentChat(undefined)\n  }\n\n  const changeActiveChatUser = user => setOtherUser(user)\n\n  useEffect(() => {\n    if (loggedUser) {\n      chatsService\n        .getUserChats()\n        .then(res => {\n          setChats(res.data)\n        })\n        .catch(err => console.error(err))\n    }\n  }, [loggedUser])\n\n  useEffect(() => {\n    setIsChatOpen(!!data)\n  }, [data])\n\n  return (\n    <>\n      <Container>\n        <h1 className='mb-5'>Your chats 💬</h1>\n        <Row style={{ height: '70vh' }}>\n          <Col style={{ maxHeight: '100%' }} md={6}>\n            {chats.map((chat, i) =>\n              <ChatItem key={`${chat}-${i}`} setIsChatOpen={setIsChatOpen} chat={chat} currentChat={currentChat} handleChat={handleChat} changeActiveChatUser={changeActiveChatUser} isChatOpen={isChatOpen} otherUser={otherUser} />\n            )}\n          </Col>\n          <Col style={{ maxHeight: '100%' }} md={6}>\n            {isChatOpen && currentChat &&\n              <Chat style={{ maxHeight: '100%' }} otherUser={otherUser} chat={currentChat} handleClick={handleClick} />\n            }\n            {!isChatOpen &&\n              <p>Chat Animation</p>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </>\n  )\n\n}\n\n\nexport default ChatPage\n","import { Card, Row, Col } from 'react-bootstrap'\r\nimport defaultImages from '../../utils/defaultImages.js'\r\n\r\n\r\nconst ExchangedBookItem = ({ owner, receiver, id, title, authors, image, endDate, exchangeId }) => {\r\n\r\n\r\n  /* exchangeId necesario para crear un botón de intercambio finalizado que actualice \r\n  el exchange y añada una endDate. Una vez haya endDate, se activará el rating de user \r\n  router.put en exchanges routes */\r\n\r\n\r\n  return (\r\n    <Card>\r\n      <Row>\r\n\r\n        <Col md={2}>\r\n          <Card.Img variant=\"top\" src={image ? image : defaultImages.bookCover} />\r\n        </Col>\r\n\r\n        <Col md={10}>\r\n          <Card.Body>\r\n            <Card.Title>Title: {title}</Card.Title>\r\n            <Card.Text>\r\n              {authors &&\r\n                <p>Author: {\r\n                  (authors.length > 1 ?\r\n                    authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\r\n                    :\r\n                    authors[0])}\r\n                </p>\r\n              }\r\n            </Card.Text>\r\n            <br />\r\n          </Card.Body>\r\n        </Col>\r\n\r\n      </Row>\r\n    </Card>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBookItem\r\n","import { useContext } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport ExchangedBookItem from './ExchangedBookItem'\r\n\r\n\r\nconst ExchangedBooksList = ({ exchangedBooks, getExchangedBooks }) => {\r\n\r\n  const { loggedUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n\r\n  const booksUserIsOwner = exchangedBooks.filter(exchangedBooks => exchangedBooks.owner === currentUserId)\r\n  const booksUserIsReceiver = exchangedBooks.filter(exchangedBooks => exchangedBooks.receiver === currentUserId)\r\n\r\n  const displayExchangedBooks = exchangedBooksArr => exchangedBooksArr.map(exchangedBook => {\r\n    return <ExchangedBookItem key={exchangedBook._id} {...exchangedBook} getExchangedBooks={getExchangedBooks} />\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        booksUserIsOwner?.length > 0 &&\r\n        <>\r\n          <h2>Lent Books</h2>\r\n          {displayExchangedBooks(booksUserIsOwner)}\r\n        </>\r\n      }\r\n\r\n      {\r\n        booksUserIsReceiver?.length > 0 &&\r\n        <>\r\n          <h2>Borrowed Books</h2>\r\n          {displayExchangedBooks(booksUserIsReceiver)}\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBooksList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport ExchangedBooksList from './ExchangedBooksList'\r\nimport ExchangesService from '../../services/exchanges.service'\r\nimport { useParams } from 'react-router'\r\n\r\nconst exchangesService = new ExchangesService()\r\n\r\n\r\nconst ExchangedBooksPage = props => {\r\n\r\n  const [exchangedBooks, setExchangedBooks] = useState(null)\r\n  const { id } = useParams()\r\n\r\n  useEffect(() => {\r\n    console.log()\r\n    getExchangedBooks()\r\n  }, [id])\r\n\r\n\r\n  const getExchangedBooks = () => {\r\n\r\n    exchangesService\r\n      .getExchangedBooks(id)\r\n      .then(res => setExchangedBooks(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Exchanged Books</h1>\r\n      {exchangedBooks?.length ?\r\n        <ExchangedBooksList getExchangedBooks={getExchangedBooks} exchangedBooks={exchangedBooks} />\r\n        :\r\n        <p>No books exchanged yet.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBooksPage\r\n","import axios from 'axios'\n\n\nclass ExchangesService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/exchanges`,\n      withCredentials: true,\n    })\n  }\n\n  getExchangedBooks = id => this.instance.get(`/${id}`)\n\n}\n\n\nexport default ExchangesService\n","import { useState, useEffect } from 'react'\nimport { Container, Row } from 'react-bootstrap'\nimport { useParams } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { Header, ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\nimport UsersService from '../../services/users.service'\n\n\nconst usersService = new UsersService()\n\n\nconst UserDetailsPage = props => {\n\n  const [user, setUser] = useState(undefined)\n  const { id } = useParams()\n\n  const getUser = () => {\n\n    usersService\n      .getUserInfo(id)\n      .then(res => setUser(res.data))\n      .catch(err => console.error(err))\n  }\n\n  useEffect(() => {\n    getUser(id)\n  }, [])\n\n\n  return user ?\n    <Container className=\"mb-5\" style={{ height: '100vh', borderRadius: '15px' }}>\n      <Row style={{ height: '100%' }}>\n\n        <Header className=\"col-12 header p-5\"></Header>\n\n        <div className=\"col-md-4 col-sm-12 mb-3\" style={{ background: '#F4E7DE', height: '100%' }}>\n          <div className=\"mr-5 mt-5 d-flex align-items-center justify-content-between flex-column p-5\" style={{ background: '#805D93', height: '80%', borderRadius: '15px' }} >\n\n            <div className=\"info\">\n              <ProfilePicture image={user.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\n              <div className=\"info mt-5\" style={{ color: 'white', fontSize: '2rem' }}>\n                <p>Username: {user.username}</p>\n                {user.name !== 'unknown' && <p>Name: {user.name}</p>}\n                <p>Friends: {user.friends.length}</p>\n                <p>Books: {user.books.length}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"col-md-8 col-sm-12 mt-5\" style={{ background: '#F4E7DE' }}>\n          <div className=\"ml-5 p-5 \" style={{ background: '#805D93', height: '100%', borderRadius: '15px', color: 'white' }} >\n            <h1 className=\"mb-5\">My Books 📚</h1>\n            {/* TODO Create pages for the following */}\n            <Link className=\"plain-link-profile\" to='#'><h3>→ I Want To Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Reading</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Read</h3></Link>\n            <Link className=\"plain-link-profile\" to={`/${id}/exchanged`}><h3>→ Exchanged Books</h3></Link>\n          </div>\n        </div>\n      </Row>\n    </Container>\n    :\n    <p>Loading User Details...</p>\n\n}\n\n\nexport default UserDetailsPage\n","import { Redirect } from 'react-router'\r\n\r\n\r\nconst ProtectedRoutes = ({ condition, urlRedirect, children }) => {\r\n\r\n  return condition ? [children] : <Redirect to={urlRedirect} />\r\n\r\n}\r\n\r\n\r\nexport default ProtectedRoutes\r\n","import React, { useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport * as PATHS from '../../utils/paths'\nimport BookResultsRoutes from './BookResultsRoutes'\nimport { Route, Switch } from 'react-router-dom'\nimport HomePage from '../../pages/HomePage/HomePage'\nimport Login from '../../pages/auth/Login'\nimport Signup from '../../pages/auth/Signup'\nimport SignupInfoPage from '../../pages/SignupInfoPage/SignupInfoPage'\nimport SignupGenresPage from '../../pages/SignupGenresPage/SignupGenresPage'\nimport RequestsPage from '../../pages/RequestsPage/RequestsPage'\nimport UsersPage from '../../pages/UsersPage/UsersPage'\nimport BookExchangePage from '../../pages/BookExchangePage/BookExchangePage'\nimport UserProfilePage from '../../pages/UserProfilePage/UserProfilePage'\nimport EditUserPage from '../../pages/EditUserPage/EditUserPage'\nimport ChatPage from '../../pages/ChatPage/ChatPage'\nimport ExchangedBooksPage from '../../pages/ExchangedBooksPage/ExchangedBooksPage'\nimport UserDetailsPage from '../../pages/UserDetailsPage/UserDetailsPage'\nimport ProtectedRoutes from './ProtectedRoutes'\n\n\nconst Routes = props => {\n\n  const { loggedUser } = useContext(UserContext)\n\n  return (\n    <React.StrictMode>\n      <Switch>\n\n        <Route exact path={PATHS.HOMEPAGE} render={() => <HomePage />} />\n        <Route exact path={PATHS.LOGIN} render={() => <Login />} />\n        <Route exact path={PATHS.SIGNUP} render={() => <Signup />} />\n\n        <ProtectedRoutes condition={loggedUser} urlRedirect={PATHS.LOGIN}>\n          <Route exact path={PATHS.SIGNUP_INFO} render={() => <SignupInfoPage />} />\n          <Route exact path={PATHS.SIGNUP_GENRES} render={() => <SignupGenresPage />} />\n          <BookResultsRoutes />\n          <Route exact path={PATHS.REQUESTS} render={() => <RequestsPage />} />\n          <Route exact path={PATHS.USERS} render={() => <UsersPage />} />\n          <Route exact path={PATHS.PROFILE} render={() => <UserProfilePage />} />\n          <Route exact path={PATHS.EDIT_PROFILE} render={() => <EditUserPage />} />\n          <Route exact path={PATHS.BOOK_EXCHANGE} render={() => <BookExchangePage />} />\n          <Route path={PATHS.CHATS} render={() => <ChatPage />} />\n          <Route path={PATHS.BOOKS_EXCHANGED} render={() => <ExchangedBooksPage />} />\n          <Route exact path={PATHS.USER_DETAILS} render={() => <UserDetailsPage />} />\n        </ProtectedRoutes>\n\n      </Switch>\n    </React.StrictMode>\n  )\n\n}\n\n\nexport default Routes\n","export default __webpack_public_path__ + \"static/media/B.73b496fe.svg\";","import logo from '../../../B.svg'\nimport styled from 'styled-components'\n\n\nconst Img = styled.img`\n  height: 30px;\n  width: 30px;\n  position: absolute;\n  left: 15px;\n  top: 12px; \n  filter: invert(100%);\n`\n\n\nconst ImgLogo = () => {\n  return (\n    <Img src={logo} alt='Broad Logo' />\n  )\n}\n\n\nexport default ImgLogo\n","import React, { useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport ImgLogo from '../styledComponents/atomicComponents/ImgLogo'\nimport { Link, useHistory } from 'react-router-dom'\nimport { HOMEPAGE, SIGNUP, LOGIN, PROFILE, CHATS, REQUESTS, BOOK_RESULTS } from '../../utils/paths'\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap/'\nimport SearchBar from '../styledComponents/atomicComponents/SearchBar'\nimport AuthService from '../../services/auth.service'\n\n\nconst Navtop = props => {\n\n  const authService = new AuthService()\n  const { loggedUser, storeUser } = useContext(UserContext)\n  let history = useHistory()\n\n  const logout = (e) => {\n\n    e.preventDefault()\n\n    authService\n      .logout()\n      .then(() => {\n        storeUser(null)\n        history.push(`/`)\n      })\n      .catch(err => console.error(err))\n\n  }\n\n  // const mediaMatch = window.matchMedia('(max-width: 991)')\n  // const [displaySearchBar, setDisplaySearchBar] = useState(true)\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"primary\" variant=\"dark\" style={{ marginBottom: '30px', zIndex: '5' }}>\n      <Container fluid style={{ height: '45px' }}>\n        <Navbar.Brand style={{ marginTop: '0px', marginRight: '4rem', padding: '0px' }} as={Link} to={HOMEPAGE}><ImgLogo /></Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse style={{ backgroundColor: '#805d93', padding: '5px', borderRadius: '10px', justifyContent: 'flex-end' }}>\n          {\n            loggedUser ?\n              (<>\n                <Nav id=\"responsive-navbar-nav\" className=\"me-auto\">\n                  <Nav.Link as={Link} to=\"/book-exchange\">Swap Books!</Nav.Link>\n                  <Nav.Link as={Link} to=\"/book-results/title/+\">Discover</Nav.Link>\n                  <Nav.Link as={Link} to=\"/users\">Community</Nav.Link>\n                </Nav>\n                <Nav className=\"me-auto\">\n                  <SearchBar type='books' id=\"toggle-search\" />\n                </Nav>\n                <Nav>\n                  <Nav.Link style={{ marginRight: '3rem' }} as={Link} to={PROFILE}>Welcome {loggedUser.username} &#9825; </Nav.Link>\n                </Nav>\n\n                <Nav>\n                  <NavDropdown title=\"Profile\" align=\"end\">\n                    <NavDropdown.Item as={Link} to={PROFILE}>My Profile</NavDropdown.Item>\n                    <NavDropdown.Item as={Link} to={REQUESTS}>My Requests</NavDropdown.Item>\n                    <NavDropdown.Item as={Link} to={CHATS}>My chats</NavDropdown.Item>\n                    <NavDropdown.Divider />\n                    <NavDropdown.Item onClick={logout}>Log Out</NavDropdown.Item>\n                  </NavDropdown>\n                </Nav>\n              </>) :\n              (<Nav>\n                <Nav.Link as={Link} to={LOGIN}>Log In</Nav.Link>\n                <Nav.Link as={Link} to={SIGNUP}>Sign Up</Nav.Link>\n              </Nav>\n              )\n          }\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n\n}\n\n\nexport default Navtop\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport Routes from './components/Routes'\nimport { UserProvider } from './UserContext'\nimport Navbar from './components/Layout/Navtop'\nimport AuthService from './services/auth.service'\nimport './Css/App.css'\n\nconst authService = new AuthService()\n\nconst App = props => {\n\n  const [loggedUser, setLoggedUser] = useState(undefined)\n\n  const storeUser = user => setLoggedUser(user)\n\n  const fetchUser = () => {\n    authService.isLoggedIn()\n      .then(res => storeUser(res.data))\n      .catch(err => storeUser(null))\n  }\n\n  useEffect(() => {\n    fetchUser()\n  }, [])\n\n\n  return (\n    <>\n      <Router>\n        <UserProvider value={{ loggedUser, storeUser, fetchUser }}>\n          <Navbar {...props} />\n\n          {loggedUser !== undefined && <Routes {...props} />}\n\n          {/* <Footer /> */}\n        </UserProvider>\n      </Router>\n    </>\n  )\n\n}\n\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport { BrowserRouter } from \"react-router-dom\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}