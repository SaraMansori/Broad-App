{"version":3,"sources":["pages/ChatPage/Chat.jsx","UserContext.js","utils/paths.js","services/books.service.js","components/styledComponents/atomicComponents/SearchBar.jsx","components/styledComponents/atomicComponents/SearchBarFilters.jsx","utils/defaultImages.js","services/users.service.js","services/auth.service.js","pages/BookResultsPage/BookItem.jsx","pages/BookResultsPage/BookResultsPage.jsx","components/Routes/BookResultsRoutes.jsx","vanreading.png","bookcover.jpg","components/styledComponents/atomicComponents/LongButton.jsx","components/styledComponents/styledPages/HomePageStyle.jsx","pages/HomePage/HomePage.jsx","pages/auth/Login.jsx","pages/auth/Signup.jsx","services/uploads.service.js","pages/SignupInfoPage/SignupInfoPage.jsx","utils/bookGenres.js","pages/SignupGenresPage/SignupGenresPage.jsx","services/requests.service.js","pages/RequestsPage/RequestItem.jsx","pages/RequestsPage/RequestsList.jsx","pages/RequestsPage/RequestsPage.jsx","components/styledComponents/styledPages/ProfileStyle.jsx","pages/UsersPage/UserItem.jsx","pages/UsersPage/UsersList.jsx","pages/UsersPage/UsersPage.jsx","services/chats.service.js","pages/BookExchangePage/BookToExchangeItem.jsx","pages/BookExchangePage/BooksToExchangeList.jsx","pages/BookExchangePage/BookExchangePage.jsx","pages/UserProfilePage/UserProfilePage.jsx","pages/EditUserPage/EditUserPage.jsx","pages/ChatPage/ChatItem.jsx","components/styledComponents/ChatStyle.jsx","pages/ChatPage/InfoBar/InfoBar.jsx","components/icons/online-icon.png","pages/ChatPage/Input.jsx","pages/ChatPage/Message.jsx","pages/ChatPage/Messages.jsx","pages/ChatPage/ChatPage.jsx","pages/ExchangedBooksPage/ExchangedBookItem.jsx","pages/ExchangedBooksPage/ExchangedBooksList.jsx","pages/ExchangedBooksPage/ExchangedBooksPage.jsx","services/exchanges.service.js","pages/UserDetailsPage/UserDetailsPage.jsx","components/Routes/ProtectedRoutes.jsx","components/Routes/index.js","B.svg","components/styledComponents/atomicComponents/ImgLogo.jsx","components/Layout/Navtop.jsx","App.js","index.js"],"names":["socket","UserContext","React","createContext","UserProvider","Provider","SIGNUP","LOGIN","PROFILE","EDIT_PROFILE","REQUESTS","CHATS","BookService","getBooks","text","instance","get","getBooksByType","type","this","axios","create","baseURL","process","withCredentials","SearchBar","props","useState","setText","history","useHistory","onSubmit","e","preventDefault","searchType","push","InputGroup","FormControl","placeholder","style","width","name","value","onChange","target","handleInput","Button","variant","SearchBarFilters","handleRadioClick","Form","className","Check","inline","label","id","onClick","defaultImages","bookCover","profilePicture","UsersService","updateSignupInfo","description","profileImage","location","put","updateFavoriteGenres","favoriteGenres","getUsers","deleteFriend","friendId","updateUserBooks","book","getUserInfo","editUserInfo","email","getBooksToExchange","AuthService","signup","username","pwd","post","login","logout","isLoggedIn","refreshSession","BookItem","useContext","loggedUser","storeUser","getStatus","books","find","userbook","status","wantToExchange","setWantToExchange","bookStatus","setBookStatus","useEffect","some","userBook","wantsToExchange","console","log","bookId","volumeInfo","imageLinks","title","authors","publishedDate","length","usersService","handleBookChangeClick","dataset","then","res","data","catch","err","error","Col","Card","height","Img","maxHeight","objectFit","src","thumbnail","Body","display","flexDirection","justifyContent","Title","Text","map","author","index","handleExchangeClick","Dropdown","Toggle","Menu","Item","bookService","BookResultsPage","useParams","setSearchType","setBooks","useLocation","replaceAll","Container","Row","marginBottom","xs","md","i","BookResultsRoutes","exact","path","render","LongButton","styled","H2","h2","H6","h6","ImageReading","div","reading","Welcome","NewLife","Ready","Hit","Hit2","Quote","Quote3","Quote2","Quote1","RectContainer","GreenRectangle","BookCover","bookcover","BookDesc","PurpleRectangle","BroadFeatures","Icon","BroadDesc","HomePage","marginTop","as","Link","to","textAlign","toast","authService","LoginForm","formData","setFormData","margin","SignupForm","toasts","handleChange","user","UploadsService","uploadImg","imageForm","uploadsService","SignupInfoPage","autoFocus","Control","rows","maxWidth","accept","isLoading","uploadedData","FormData","append","files","cloudinary_url","handleFile","size","disabled","genres","SignupGenresPage","setSignupGenresData","flexWrap","gap","genre","currentGenre","innerText","includes","filter","handleClick","flexGrow","RequestsService","getRequests","manageRequest","createRequest","receiver","deleteRequest","otherUserId","delete","getRequest","getExchangeRequest","requestsService","RequestsItem","_id","owner","changeRequestStatus","marginRight","RequestsList","requests","friendshipRequests","request","exchangeRequests","displayRequests","requestsArr","RequestItem","RequestsPage","setRequests","Header","ProfilePicture","image","UsersItem","friendshipRequest","setFriendshipRequest","buttonToShow","setButtonToShow","areFriends","setAreFriends","currentUserId","existFriendshipRequest","selectButtonToShow","checkFriendship","handleFriendship","promise","friends","userIsOwner","userIsReceiver","color","UsersList","users","UserItem","UsersPage","setUsers","ChatService","getUserChats","createChat","addMessage","message","chat","chatsService","ChatsService","BookToExchangeItem","ownerId","exchangeRequest","setExchangeRequest","chatExists","setChatExists","existExchangeRequest","checkChat","forEach","participants","BooksToExchangeList","booksToExchange","filteredBooks","bookToExchange","BookExchangePage","setBooksToExchange","Description","UserProfilePage","borderRadius","minHeight","paddingBottom","background","fontSize","fontWeight","alignSelf","EditUserPage","ChatItem","handleChat","currentChat","chatUserId","participant","undefined","otherUser","setOtherUser","isThisChatOpen","setIsThisChatOpen","queryString","parse","search","body","OuterContainer","ChatContainer","LeftInnerContainer","RightInnerContainer","MessageContainerEnd","MessageBox","MessageContainerStart","PurpleMessage","LightMessage","AdminMessage","InfoBar","alt","cursor","xmlns","fill","class","viewBox","d","Input","sendMessage","setMessage","Group","resize","onKeyPress","key","padding","Message","ReactEmoji","emojify","Messages","messagesToShow","messages","initialScrollBehavior","mode","Chat","ENDPOINT","room","setRoom","setMessages","parseMessage","hasBeenRead","setSocketConfig","io","cors","origin","credentials","transports","roomName","split","sort","join","emit","disconnect","off","on","updateMessages","backgroundColor","parsedMessage","ChatPage","chats","setChats","isChatOpen","setIsChatOpen","setCurrentChat","isOpen","changeActiveChatUser","ExchangedBookItem","endDate","exchangeId","ExchangedBooksList","exchangedBooks","getExchangedBooks","booksUserIsOwner","booksUserIsReceiver","displayExchangedBooks","exchangedBooksArr","exchangedBook","exchangesService","ExchangedBooksPage","setExchangedBooks","UserDetailsPage","setUser","ProtectedRoutes","condition","urlRedirect","children","Routes","StrictMode","PATHS","Login","Signup","img","ImgLogo","logo","Navtop","Navbar","collapseOnSelect","expand","bg","zIndex","fluid","Brand","Collapse","Nav","NavDropdown","align","Divider","App","setLoggedUser","fetchUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b2e9eb97.chunk.js","sourcesContent":["import { OuterContainer, ChatContainer, MessageBox } from '../../components/styledComponents/ChatStyle'\nimport InfoBar from './InfoBar/InfoBar'\nimport Input from './Input'\nimport Messages from './Messages'\nimport { useLocation } from 'react-router-dom'\nimport React, { useState, useEffect, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport io from 'socket.io-client'\nimport ChatsService from '../../services/chats.service'\n\nlet socket\n\nconst Chat = ({ chat, otherUser, handleClick }) => {\n\n  const ENDPOINT = process.env.REACT_APP_SOCKET_URL\n  const location = useLocation()\n  let chatsService = new ChatsService()\n\n  const [room, setRoom] = useState('')\n  const [messages, setMessages] = useState([])\n  const [message, setMessage] = useState('')\n\n  const { loggedUser } = useContext(UserContext)\n\n  const updateMessages = (message) => setMessages([...messages, message])\n  const setInitialMessages = () => setMessages(chat.messages.map(message => parseMessage(message, 'db')))\n\n  const parseMessage = (message, type) => {\n\n    if (type === 'db') {\n      return {\n        text: message.text,\n        owner: message.owner,\n        hasBeenRead: message.hasBeenRead,\n      }\n    } else if (type === 'socket') {\n      return {\n        text: message.text,\n        owner: '',\n        hasBeenRead: false,\n        user: message.user\n      }\n    }\n  }\n\n  const setSocketConfig = () => {\n    const username = loggedUser.username\n\n    socket = io(ENDPOINT, {\n      cors: {\n        origin: process.env.REACT_APP_SOCKET_URL,\n        credentials: true\n      }, transports: ['websocket']\n    })\n    const roomName = [...otherUser._id.split(\"\"), ...loggedUser._id.split(\"\")].sort().join(\"\")\n    setRoom(`${roomName}`)\n\n    socket.emit('join', { username, room: room }, () => {\n      setInitialMessages()\n    })\n\n  }\n\n  const sendMessage = (e) => {\n\n    e.preventDefault()\n\n    const parsedMessage = {\n      text: message,\n      owner: loggedUser._id,\n    }\n\n    if (message) {\n      socket.emit('sendMessage', message, () => {\n        setMessage('')\n      })\n    }\n\n    chatsService\n      .addMessage(parsedMessage, chat._id)\n      .then(res => null)\n      .catch(err => console.error(err))\n\n  }\n\n  useEffect(() => {\n    if (loggedUser?.username && otherUser) {\n\n      setSocketConfig()\n\n      return () => {\n        socket.disconnect()\n        socket.off()\n        setMessages([])\n      }\n\n    }\n\n  }, [ENDPOINT, location.search, loggedUser, otherUser])\n\n  useEffect(() => {\n    socket.on('message', message => {\n      updateMessages(parseMessage(message, 'socket'))\n    })\n  }, [messages])\n\n\n  return loggedUser ? (\n    <OuterContainer>\n      <ChatContainer>\n\n        <InfoBar otherUser={otherUser} handleClick={handleClick} />\n        <MessageBox>\n          <Messages style={{ backgroundColor: 'red' }} messages={messages} username={loggedUser.username} otherUser={otherUser} />\n        </MessageBox>\n        <Input message={message} sendMessage={sendMessage} setMessage={setMessage} />\n\n      </ChatContainer>\n    </OuterContainer>\n  ) : \"Loading...\"\n\n}\n\n\nexport default Chat\n","import React from \"react\"\nconst UserContext = React.createContext(false)\nexport const UserProvider = UserContext.Provider\nexport default UserContext\n","export const HOMEPAGE = \"/\"\nexport const SIGNUP = \"/signup\"\nexport const SIGNUP_GENRES = \"/signup/genres\"\nexport const SIGNUP_INFO = \"/signup/info\"\nexport const LOGIN = \"/login\"\nexport const PROFILE = '/profile'\nexport const EDIT_PROFILE = '/profile/edit'\nexport const BOOK_RESULTS_TEXT = \"/book-results/:text\"\nexport const BOOK_RESULTS = \"/book-results/:category/:text\"\nexport const REQUESTS = \"/requests\"\nexport const USERS = \"/users\"\nexport const BOOK_EXCHANGE = \"/book-exchange\"\nexport const CHATS = \"/chats\"\nexport const BOOKS_EXCHANGED = \"/:id/exchanged\"\nexport const USER_DETAILS = \"/users/:id\"\n","import axios from 'axios'\n\n\nclass BookService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/books`,\n      withCredentials: true\n    })\n  }\n\n  getBooks = text => this.instance.get(`/search-book/${text}`)\n\n  getBooksByType = (type, text) => this.instance.get(`/search-book-by/${type}/${text}`)\n\n}\n\n\nexport default BookService\n","import { useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { InputGroup, Button, FormControl } from 'react-bootstrap/'\n\n\nconst SearchBar = (props) => {\n\n\tconst [text, setText] = useState('')\n\tlet history = useHistory()\n\n\tconst clearState = () => {\n\t\tsetText('')\n\t};\n\n\tconst handleInput = e => {\n\t\tsetText(e.target.value)\n\t};\n\n\tconst handleSubmit = (e) => {\n\n\t\tif (props.type === 'books') {\n\n\t\t\te.preventDefault()\n\n\t\t\tif (!props.searchType) {\n\t\t\t\ttext ? history.push(`/book-results/title/${text}`) : history.push(`/book-results/+`)\n\t\t\t} else {\n\t\t\t\ttext ? history.push(`/book-results/${props.searchType}/${text}`) : history.push(`/book-results/${props.searchType}/+`)\n\t\t\t}\n\n\t\t\tclearState()\n\n\t\t} else if (props.type === 'exchange') {\n\n\t\t\tif (!props.searchType) {\n\t\t\t\ttext ? history.push(`/book-exchange/title/${text}`) : history.push(`/book-exchange/`)\n\t\t\t} else {\n\t\t\t\ttext ? history.push(`/book-exchange/${props.searchType}/${text}`) : history.push(`/book-exchange/`)\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\n\t\t\t<InputGroup>\n\t\t\t\t<FormControl\n\t\t\t\t\tplaceholder={props.type === 'exchange' ? \"Find the books you want to exchange...\" : \"Find your favorite books...\"}\n\t\t\t\t\taria-label=\"search\"\n\t\t\t\t\taria-describedby=\"search\"\n\t\t\t\t\tstyle={{ width: '42vw' }}\n\t\t\t\t\tname=\"text\" value={text} onChange={e => handleInput(e)}\n\t\t\t\t/>\n\t\t\t\t<Button type='submit' variant='secondary'>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t</InputGroup>\n\n\t\t</form>\n\t)\n\n}\n\n\nexport default SearchBar\n","import { Form } from 'react-bootstrap'\n\nconst SearchBarFilters = ({ type, handleRadioClick }) => {\n  return (\n    <Form className='mt-2 mb-5' >\n      <Form.Check\n        inline\n        label=\"Search By Title\"\n        name=\"group1\"\n        type='radio'\n        id={`inline-radio-1`}\n        value={\"title\"}\n        onClick={e => handleRadioClick(e)}\n      />\n      <Form.Check\n        inline\n        label=\"Search By Author\"\n        name=\"group1\"\n        type='radio'\n        value={\"author\"}\n        id={`inline-radio-2`}\n        onClick={e => handleRadioClick(e)}\n      />\n      {type !== 'exchange' &&\n        <>\n          <Form.Check\n            inline\n            label=\"Search By Genre\"\n            name=\"group1\"\n            type='radio'\n            value={\"category\"}\n            id={`inline-radio-2`}\n            onClick={e => handleRadioClick(e)}\n          />\n          <Form.Check\n            inline\n            label=\"Search By ISBN\"\n            name=\"group1\"\n            type='radio'\n            value={\"isbn\"}\n            id={`inline-radio-2`}\n            onClick={e => handleRadioClick(e)}\n          />\n        </>\n      }\n    </Form>\n  );\n}\n\nexport default SearchBarFilters;","const defaultImages = {\n  bookCover: 'https://i.imgur.com/sJ3CT4V.gif',\n  profilePicture: ''\n}\n\nexport default defaultImages","import axios from 'axios'\n\n\nclass UsersService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/users`,\n      withCredentials: true,\n    })\n  }\n\n  updateSignupInfo = (name, description, profileImage, location) => {\n    return this.instance.put(`/edit/signup-info`, { name, description, profileImage, location })\n  }\n\n  updateFavoriteGenres = (favoriteGenres) => {\n    return this.instance.put(`/edit/genres`, { favoriteGenres })\n  }\n\n  getUsers = () => this.instance.get('/')\n\n  deleteFriend = friendId => this.instance.put('/delete-friend', { friendId })\n\n  updateUserBooks = book => this.instance.put(`/update/books`, { book })\n\n  getUserInfo = id => this.instance.get(`/${id}`)\n\n  editUserInfo = (name, email, description, profileImage, location) => this.instance.put(`/edit/profile`, { name, email, description, profileImage, location })\n\n  getBooksToExchange = () => this.instance.get('/books-to-exchange')\n\n}\n\n\nexport default UsersService\n","import axios from 'axios'\n\n\nclass AuthService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/auth`,\n      withCredentials: true\n    })\n  }\n\n  signup = (email, username, pwd) => this.instance.post(\"/signup\", { email, username, pwd })\n\n  login = (username, pwd) => this.instance.post(\"/login\", { username, pwd })\n\n  logout = () => this.instance.get(\"/logout\")\n\n  isLoggedIn = () => this.instance.post(\"/is-logged-in\")\n\n  refreshSession = () => this.instance.post(\"/refresh-session\")\n\n}\n\n\nexport default AuthService\n","import { useState, useContext, useEffect } from 'react'\nimport UserContext from '../../UserContext'\nimport { Col, Card, Dropdown, Button } from 'react-bootstrap'\nimport defaultImages from '../../utils/defaultImages.js'\nimport UsersService from '../../services/users.service'\nimport AuthService from '../../services/auth.service'\n\nconst authService = new AuthService()\n\nconst BookItem = ({ book }) => {\n\n  const { loggedUser, storeUser } = useContext(UserContext)\n\n  const getStatus = () => loggedUser?.books.find(userbook => userbook.id === book.id)?.status\n  const [wantToExchange, setWantToExchange] = useState(false)\n  const [bookStatus, setBookStatus] = useState(getStatus())\n\n  const parsedStatus = {\n    'WANTSTOREAD': 'Wants to read',\n    'READ': 'Read',\n    'READING': 'Reading'\n  }\n\n\n  useEffect(() => {\n    if (loggedUser) {\n      setWantToExchange(loggedUser.books.some(userBook => userBook.id === book.id && userBook.wantsToExchange))\n      setBookStatus(getStatus())\n      console.log(bookStatus)\n    }\n  }, [loggedUser, book.id, bookStatus])\n\n  const bookId = book.id\n  const { imageLinks, title, authors } = book.volumeInfo\n\n  let publishedDate = book.volumeInfo.publishedDate?.length !== 0 ? book.volumeInfo.publishedDate : 'Unknown'\n\n  let usersService = new UsersService()\n\n  const handleExchangeClick = (e) => {\n    const book = {\n      id: bookId,\n      wantsToExchange: !wantToExchange\n    }\n\n    usersService\n      .updateUserBooks(book)\n      .then(res => {\n        setWantToExchange(!wantToExchange)\n        storeUser(res.data)\n      })\n      .catch(err => console.error(err))\n  }\n\n  const handleBookChangeClick = (e) => {\n\n    const book = {\n      id: bookId,\n      status: e.target.dataset.status,\n      //startDate: null,\n      //finishDate: null,\n      //wantsToExchange: false\n    }\n\n    usersService\n      .updateUserBooks(book)\n      .then(res => {\n        storeUser(res.data)\n        setBookStatus(res.data.books.find(userbook => userbook.id === book.id)?.status)\n      })\n      .catch(err => console.error(err))\n  }\n\n  return (\n    <Col>\n      <Card style={{ height: '100%' }}>\n        <Card.Img className=\"p-4\" style={{ maxHeight: '200px', objectFit: 'contain' }} variant=\"top\" src={imageLinks?.thumbnail ? imageLinks.thumbnail : defaultImages.bookCover} />\n        <Card.Body style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n          <Card.Title>{title?.length < 15 ? title : title}</Card.Title>\n\n          {authors &&\n            <Card.Text>\n              {\n                (authors?.length > 1 ?\n                  authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\n                  :\n                  authors[0])\n              }\n            </Card.Text>\n          }\n\n          <Card.Text>\n            Published: {publishedDate}\n          </Card.Text>\n\n          <div className=\"buttonsList\">\n\n            <Button style={{ width: '100%' }} variant=\"secondary\" onClick={(e) => handleExchangeClick(e)}>\n              {!wantToExchange ? 'I have this book and want to exchange it' : `I don't want to exchange this book anymore`}\n            </Button>\n\n            <Dropdown >\n              <Dropdown.Toggle variant=\"primary\" style={{ width: '100%' }} className=\"mt-2\">\n                {/* {bookStatus ? `${parsedStatus[bookStatus]}` : 'Add to my library'} */}\n                Add to my library\n              </Dropdown.Toggle>\n              <Dropdown.Menu variant=\"dark\" style={{ width: '100%' }}>\n                <Dropdown.Item data-status=\"WANTSTOREAD\" onClick={(e) => handleBookChangeClick(e)}>Want to Read</Dropdown.Item>\n                <Dropdown.Item data-status=\"READING\" onClick={(e) => handleBookChangeClick(e)}>Reading</Dropdown.Item>\n                <Dropdown.Item data-status=\"READ\" onClick={(e) => handleBookChangeClick(e)}>Read</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n\n          </div>\n\n\n        </Card.Body>\n      </Card>\n    </Col>\n  )\n\n}\n\n\nexport default BookItem\n","import { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { useParams, useLocation } from \"react-router-dom\"\nimport BookService from '../../services/books.service'\nimport SearchBar from '../../components/styledComponents/atomicComponents/SearchBar'\nimport SearchBarFilters from '../../components/styledComponents/atomicComponents/SearchBarFilters'\nimport BookItem from '../BookResultsPage/BookItem'\n\nconst bookService = new BookService()\n\nconst BookResultsPage = () => {\n\n  const { text } = useParams()\n  const [searchType, setSearchType] = useState('title')\n  const [books, setBooks] = useState([])\n\n  let location = useLocation()\n\n\n  const getBooksByType = () => {\n\n    bookService\n      .getBooksByType(searchType, text.replaceAll(\" \", \"+\"))\n      .then(res => {\n        setBooks(res.data)\n      })\n      .catch(err => console.error(err))\n  }\n\n  const handleRadioClick = (e) => {\n    setSearchType(e.target.value)\n  }\n\n  useEffect(() => {\n    getBooksByType()\n  }, [text, location])\n\n  return (\n    <Container>\n      <Row>\n        <Col style={{ marginBottom: '10px' }}>\n          <h1 className='mb-5 text-center'>These are your results</h1>\n          <SearchBar type='books' searchType={searchType} />\n          <SearchBarFilters handleRadioClick={handleRadioClick} />\n\n        </Col>\n      </Row>\n\n      {books ?\n\n        <Row xs={1} md={3} className=\"g-5\">\n          {books.map((book, i) => (\n            <BookItem key={`${book}-${i}`} book={book} />\n          ))}\n        </Row>\n        :\n        <p>No books found.</p>\n      }\n\n    </Container>\n  )\n}\n\n\nexport default BookResultsPage\n","import { BOOK_RESULTS } from '../../utils/paths'\r\nimport { Route } from 'react-router-dom'\r\nimport BookResultsPage from '../../pages/BookResultsPage/BookResultsPage'\r\n\r\nconst BookResultsRoutes = () => {\r\n\r\n  return (\r\n    <>\r\n      <Route exact path={BOOK_RESULTS} render={() => <BookResultsPage searchType='text' />} />\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookResultsRoutes\r\n","export default __webpack_public_path__ + \"static/media/vanreading.304905a2.png\";","export default __webpack_public_path__ + \"static/media/bookcover.cba3f3eb.jpg\";","import styled from 'styled-components'\nimport { Button } from 'react-bootstrap'\n\n\nconst LongButton = styled(Button)`\nwidth: 250px;\nheight: 40px;\ntext-align: center;\nfont-weight: 500;\nfont-size: 20px;\n`\n\n\nexport default LongButton\n","import styled from 'styled-components'\nimport reading from '../../../vanreading.png'\nimport bookcover from '../../../bookcover.jpg'\nimport LongButton from '../atomicComponents/LongButton'\n\n\nconst H2 = styled.h2` \nfont-size: 2.8rem;\n`\nconst H6 = styled.h6` \nfont-size: 1.8rem;\n`\n\nconst ImageReading = styled.div`\n  height: 480px;\n  width: 850px;\n  border-bottom-right-radius: 20px;\n  box-shadow: 2px 2px 2px 2px #805d93;\n  background-image: url(${reading});\n  background-size: cover;\n  background-position-y: 56%;\n\n  @media (max-width: 1185px) {\n  width: 100vw;\n  height: 30vh;\n  border-radius: 0px;\n  }\n\n`\n\nconst Welcome = styled.div`\n\nposition: absolute;\nwidth: 535px;\nheight: 200px;\nright: 50px;\ntop: 100px;\ncolor: #613175; \nbackground: #FFFFFF;\nborder-radius: 50px;\nfont-weight: normal;\nfont-size: 48px;\nline-height: 60px;\ntext-align:center;\nbox-shadow: 2px 2px 2px 2px #805d93;\npadding:40px; \nz-index: 1;\n\n@media (max-width: 1185px) {\n    right: 14px;\n    top: 69px;\n    font-size: 18px;\n    width: 198px;\n    height: 80px;\n    line-height: 26px;\n    border-radius: 30px;\n    padding: 15px;\n  \n  }\n\n`\n\nconst NewLife = styled.div`\n\ndisplay:initial;\nposition: absolute;\nwidth: 441px;\nheight: 144px;\nright: 80px;\ntop: 273px;\nbackground: #805D93;\nborder-radius: 50px;\ncolor: #FFFFFF; \nfont-weight: normal;\nfont-size: 20px;\nline-height: 25px;\ntext-align:center;\nbox-shadow: 1px 1px 1px 1px #169873;\npadding:44px; \n\n@media (max-width: 1185px) {\ndisplay: none; \n}  \n\n@media (min-width: 1250px) {\nright: 230px;\ntop: 268px;\n  }\n\n`\n\nconst Ready = styled.div`\nposition: absolute;\nright: 62px;\ntop: 449px;\ntext-align: center;\nfont-weight: 600;\nfont-size: 20px;\nline-height: 25px;\npadding: 5px;\nbackground-color: #f4e7de;\nborder-radius: 20px;\ndisplay: none;\n\n@media (min-width: 1185px) {\n  display: initial;\n}\n\n@media (min-width: 1296px) {\n  font-size: 24px;\n      }\n@media (min-width: 1250px) {\n  right: 32px;\n  }\n\n`\nconst Hit = styled(LongButton)`\ndisplay: none;\nposition: absolute;\nright: 30px;\ntop: 500px;\nborder-radius:15px;\n\n@media (min-width: 1185px) {\n  right: 77px;\n  display: initial;\n    }`\n\nconst Hit2 = styled(LongButton)`\ndisplay: none;\nposition: static;\nborder-radius:15px;\n\n@media (max-width: 1185px) {\n  display: initial;\n    }`\n\nconst Quote = styled.div`\nposition: absolute;\nwidth: 298px;\nbackground: #FFFFFF;\nborder-style:solid;\nborder-width: 1px;\nborder-color: rgba(0, 0, 0, 0.25);\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\nborder-radius: 20px;\nfont-weight: normal;\nfont-size: 13px;\nline-height: 19px;\nfont-weight:500;\ntext-align:center;\npadding:20px;\ndisplay: flex;\nalign-items: center;\nz-index: 1;\ndisplay:none;\n\n@media (min-width: 1250px) {\n    display: initial;\n  }\n`\nconst Quote3 = styled(Quote)`\nleft: 20px;\ntop: 445px;\n`\nconst Quote2 = styled(Quote)`\nleft: 280px;\ntop: 570px;\n`\nconst Quote1 = styled(Quote)`\nleft: 435px;\ntop: 443px;\nmin-height: 114px;\n`\n\nconst RectContainer = styled.div`\ndisplay: block;\n\n@media (max-width:1185px) {  \nmargin-top: 20px;\nmargin-bottom: 20px;  \ndisplay: flex;\nflex-direction: column-reverse;\nalign-items: center;\nflex-wrap: wrap;\njustify-content: center;\n}\n\n`\n\nconst GreenRectangle = styled.div` \npadding: 50px 40px 50px 40px;\nbox-sizing: border-box;\nborder-radius: 50px;\nbackground: #159772;\nwidth: 95%;\ndisplay: flex;\nflex-direction: row;\nflex-wrap: wrap;\njustify-content: center;\n \n\n\n@media (min-width:1185px) {\nposition: absolute;\nwidth: 590px;\ndisplay: grid; \ngrid-template-columns: 0.7fr 1.3fr; \ngrid-template-rows: 1fr; \ngap: 0px 15px; \nalign-items: center;\njustify-items: center;\ngrid-template-areas: \"img text\";\nmin-height: 400px;\nleft: 0px;\ntop: 500px;\nborder-radius: 0px;\nborder-top-right-radius: 50px;\nborder-bottom-right-radius: 50px;\n}\n\n@media (min-width: 1240px) {\n  top: 625px;\n  width: 630px;\n  }\n\n@media (min-width: 1300px){\n  width: 650px;\n  }\n\n`\nconst BookCover = styled.div`\ngrid-area: img;\nheight: 307px;\nwidth: 200px;\nborder-style: solid;\nborder-width: 6px;\nborder-color: #FFFFFF;\nbackground-image: url(${bookcover});\nbackground-size: cover;\nbackground-position: center;\n\n@media (max-width:1185px) {\nmargin-bottom: 10px;\n}\n`\n\nconst BookDesc = styled.div`\ngrid-area: text;\ncolor: #FFFFFF;\nfont-size: 1.5rem;\n`\nconst PurpleRectangle = styled.div`\npadding: 50px 40px 50px 40px;\nwidth: 95%;\nbackground: #805d93;\nborder-radius: 50px;\ncolor: #FFFFFF;\nmargin-bottom: 10px;\n\n\n@media (min-width: 1185px) {\nposition: absolute;\nwidth: 590px;\nmin-height: 540px;\nright: 0px;\ntop: 586px;\nborder-radius: 0px;\nborder-top-left-radius: 50px;\nborder-bottom-left-radius: 50px;\n\n}\n\n@media (min-width: 1300px){\n  width: 650px;\n  }\n`\n\nconst BroadFeatures = styled.div`\ndisplay: flex;\njustify-content: flex-start;\ncolor: #FFFFFF;\nfont-size: 1.4rem;\nbox-sizing: border-box;\n`\nconst Icon = styled.div`\ncolor: #FFFFFF;\nfont-size: 1.4rem;\n`\nconst BroadDesc = styled(Icon)`\ncolor: #FFFFFF;\nfont-size: 1.4rem;\npadding-left: 8px;\n`\n\n\n\nexport { H2, H6, ImageReading, Welcome, NewLife, Ready, Hit, Hit2, Quote1, Quote2, Quote3, RectContainer, GreenRectangle, BookCover, BookDesc, PurpleRectangle, BroadFeatures, Icon, BroadDesc }\n","import * as React from 'react'\nimport { H2, H6, ImageReading, Welcome, Ready, NewLife, Hit, Hit2, Quote1, Quote2, Quote3, RectContainer, GreenRectangle, BookCover, BookDesc, PurpleRectangle, BroadFeatures, BroadDesc, Icon } from '../../components/styledComponents/styledPages/HomePageStyle'\nimport { Link } from 'react-router-dom'\nimport { SIGNUP } from '../../utils/paths'\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst HomePage = () => {\n\n  const notify = () => toast('Here is your toast.');\n\n  return (\n    <div style={{ marginTop: '-30px' }}>\n      <ImageReading />\n      <Welcome>welcome to <strong>Broad<br />the books' road</strong></Welcome>\n      <NewLife>\n        The only place where your <strong>books</strong> can find their way to a <strong>new life</strong> !\n      </NewLife>\n      <Ready>Ready to start your journey?</Ready>\n      <Hit className='button-link' as={Link} to={SIGNUP} type=\"submit\">\n        Hit the Road\n      </Hit>\n      <Quote1>“Nothing of me is original. I am the combined effort of everyone I've ever known.” (Chuck Palahniuk)</Quote1>\n      <Quote3>“Read, read, read. Read everything - trash, classics, good and bad, and see how they do it. Just like a carpenter who works as an apprentice and studies the master...”<br />(William Faulkner)</Quote3>\n      <Quote2>\"Leap and the net will appear.\"<br />(John Burroughs)</Quote2>\n      <RectContainer>\n        <GreenRectangle>\n\n          <BookCover />\n\n          <BookDesc>\n            <H2 style={{ textAlign: 'center' }}>Book of the week</H2>\n            <H6 style={{ textAlign: 'center' }}>The Picture of Dorian Gray</H6>\n            <br />\n            <p><strong>Dorian Gray</strong> is the subject of a full-length portrait in oil by Basil Hallward, an artist impressed and infatuated by Dorian's beauty; he believes that Dorian's beauty is responsible for the new mood in his art as a painter.</p>\n            <p>\n              Through Basil, Dorian meets Lord Henry Wotton, and he soon is enthralled by the aristocrat's hedonistic world view: that beauty and sensual fulfilment are the only things worth pursuing in life.</p>\n\n          </BookDesc>\n\n        </GreenRectangle>\n\n        <PurpleRectangle>\n          <BroadFeatures>\n            <Icon><span className=\"material-icons\" style={{ marginTop: '5px' }}>\n              auto_stories\n            </span></Icon>\n            <BroadDesc>\n              <H2>Create your library</H2>\n              <H6>Recreate your library with your favorite titles, the ones you've read, the ones you're reading at the moment, and those you wish to read</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><span className=\"material-icons\" style={{ marginTop: '5px' }}>\n              autorenew\n            </span></Icon>\n            <BroadDesc>\n              <H2>Bookswapping!</H2>\n              <H6>Exchange your books with other users, and give them a new life... Sharing is caring, and it's completely free!</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><span className=\"material-icons\" style={{ marginTop: '5px' }}>\n              textsms\n            </span></Icon>\n            <BroadDesc>\n              <H2>Quotes</H2>\n              <H6>Discover, create and share the best quotes of all times! Vote the ones you like, and save them in your collection.</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <BroadFeatures>\n            <Icon><span className=\"material-icons\" style={{ marginTop: '5px' }}>\n              task_alt\n            </span></Icon>\n            <BroadDesc>\n              <H2>Challenges</H2>\n              <H6>Take your reading to the next level, and set your personal goals... Challenge accepted?</H6>\n            </BroadDesc>\n          </BroadFeatures>\n          <br />\n          <>\n            <H6 onClick={notify} style={{ textAlign: 'center' }}>This and much more awaits for you on Broad!</H6>\n            <Toaster />\n          </>\n\n          <br />\n          <p style={{ textAlign: 'center' }}>\n            <Hit2 className='button-link' as={Link} to={SIGNUP} type=\"submit\">\n              Hit the Road\n            </Hit2>\n          </p>\n\n        </PurpleRectangle>\n      </RectContainer>\n    </div>\n  )\n\n}\n\n\nexport default HomePage\n","import React, { useState, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport { InputGroup, Button, FormControl, Container } from 'react-bootstrap/'\nimport { Link, useHistory } from 'react-router-dom'\nimport AuthService from '../../services/auth.service'\nimport { SIGNUP } from '../../utils/paths'\n\nconst authService = new AuthService()\n\n\nconst LoginForm = props => {\n\n\tconst [formData, setFormData] = useState({ username: '', pwd: '' })\n\n\tlet history = useHistory()\n\tconst { storeUser } = useContext(UserContext)\n\n\n\tconst clearState = () => {\n\t\tsetFormData({ username: '', pwd: '' })\n\t}\n\n\tconst handleInput = e => {\n\t\tconst { name, value } = e.target\n\t\tsetFormData({ ...formData, [name]: value })\n\t}\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\n\t\tconst { username, pwd } = formData\n\n\t\tauthService\n\t\t\t.login(username, pwd)\n\t\t\t.then(res => {\n\t\t\t\tstoreUser(res.data)\n\t\t\t\thistory.push('/')\n\t\t\t\tclearState()\n\t\t\t})\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\t\n\treturn (\n\t\t<Container className='d-flex justify-content-center flex-column align-items-center'>\n\n\t\t\t<h3>Log In</h3>\n\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<InputGroup style={{ display: 'inline-block' }}>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Username...\"\n\t\t\t\t\t\taria-label=\"username\"\n\t\t\t\t\t\taria-describedby=\"username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={e => handleInput(e)}\n\t\t\t\t\t/>\n\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Password...\"\n\t\t\t\t\t\taria-label=\"password\"\n\t\t\t\t\t\taria-describedby=\"password\"\n\t\t\t\t\t\tname=\"pwd\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={formData.pwd}\n\t\t\t\t\t\tonChange={e => handleInput(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className='block-button' type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</Button>\n\n\t\t\t\t</InputGroup>\n\t\t\t</form>\n\n\n\t\t\t<Link className='plain-link' to={'#'}>\n\t\t\t\tForgot password?\n\t\t\t</Link>\n\t\t\t<br />\n\n\t\t\t<h6>Don't have an account?</h6>\n\n\n\t\t\t<Button className='block-button' as={Link} to={SIGNUP} type=\"submit\" variant=\"primary\">\n\t\t\t\tSign Up\n\t\t\t</Button>\n\n\t\t</Container>\n\t)\n\n}\n\n\nexport default LoginForm\n","import React, { useState, useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport { InputGroup, Button, FormControl, Container } from 'react-bootstrap/'\nimport { Link, useHistory } from 'react-router-dom'\nimport AuthService from '../../services/auth.service'\nimport { LOGIN } from '../../utils/paths'\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst authService = new AuthService()\nconst wrongPassword = () => toast.error(\"Wrong password, please try again.\")\n\n\n\nconst SignupForm = () => {\n\n\tconst [formData, setFormData] = useState({ email: '', username: '', pwd: '' })\n\tconst [toasts, setToasts] = useState()\n\n\tlet history = useHistory()\n\tconst { storeUser } = useContext(UserContext)\n\n\tconst clearState = () => {\n\t\tsetFormData({ email: '', username: '', pwd: '' })\n\t}\n\n\tconst handleChange = e => {\n\t\tconst { value, name } = e.target\n\t\tsetFormData({ ...formData, [name]: value })\n\t}\n\n\tconst handleSubmit = e => {\n\n\t\te.preventDefault()\n\n\t\tconst { email, username, pwd } = formData\n\n\t\tauthService\n\t\t\t.signup(email, username, pwd)\n\t\t\t.then(res => {\n\t\t\t\tstoreUser(res.data.user)\n\t\t\t\t/* \t\t\t\tif (res.code === 401) {\n\t\t\t\t\t\t\t\t\tsetToasts(wrongPassword)\n\t\t\t\t\t\t\t\t} */\n\t\t\t\thistory.push('/signup/genres')\n\t\t\t\tclearState()\n\t\t\t})\n\t\t\t.catch(err => err => console.error(err))\n\t}\n\n\treturn (\n\t\t<Container className='d-flex justify-content-center flex-column align-items-center'>\n\t\t\t{toasts}\n\t\t\t<h3>Sign Up</h3>\n\n\t\t\t<form onSubmit={handleSubmit}>\n\n\t\t\t\t<InputGroup style={{ display: 'inline-block' }}>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"E-mail...\"\n\t\t\t\t\t\taria-label=\"email\"\n\t\t\t\t\t\taria-describedby=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.email}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Username...\"\n\t\t\t\t\t\taria-label=\"username\"\n\t\t\t\t\t\taria-describedby=\"username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tstyle={{ width: '300px', margin: '15px' }}\n\t\t\t\t\t\tplaceholder=\"Password...\"\n\t\t\t\t\t\taria-label=\"password\"\n\t\t\t\t\t\taria-describedby=\"password\"\n\t\t\t\t\t\tname=\"pwd\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={formData.pwd}\n\t\t\t\t\t\tonChange={e => handleChange(e)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button className='block-button' type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\n\t\t\t\t</InputGroup>\n\t\t\t</form>\n\n\t\t\t<h6>Already have an account?</h6>\n\n\t\t\t<Button className='block-button' as={Link} to={LOGIN} type=\"submit\" variant=\"primary\">\n\t\t\t\tLog In\n\t\t\t</Button>\n\n\t\t</Container>\n\t)\n\n}\n\n\nexport default SignupForm\n","import axios from 'axios'\n\n\nclass UploadsService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/uploads`,\n      withCredentials: true\n    })\n  }\n\n  uploadImg = (imageForm) => this.instance.post(\"/image\", imageForm)\n\n}\n\n\nexport default UploadsService\n","import { useState } from 'react'\r\nimport { InputGroup, Button, Form, FormControl, Container, Row, Col } from 'react-bootstrap/'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport UsersService from '../../services/users.service'\r\nimport UploadsService from '../../services/uploads.service'\r\n\r\nconst usersService = new UsersService()\r\nconst uploadsService = new UploadsService()\r\n\r\n\r\nconst SignupInfoPage = props => {\r\n\r\n  let history = useHistory()\r\n\r\n  const [formData, setFormData] = useState({ name: '', description: '', profileImage: '', location: '' })\r\n\r\n  const clearState = () => {\r\n    setFormData({ name: '', description: '', profileImage: '', location: '' })\r\n  }\r\n\r\n\r\n  const handleInput = e => {\r\n    const { name, value } = e.target\r\n    setFormData({ ...formData, [name]: value })\r\n  }\r\n\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    const { name, description, profileImage, location } = formData\r\n\r\n    usersService\r\n      .updateSignupInfo(name, description, profileImage, location)\r\n      .then(() => {\r\n        history.push('/profile')\r\n        clearState()\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const handleFile = e => {\r\n\r\n    setFormData({ ...formData, isLoading: true })\r\n\r\n    const uploadedData = new FormData()\r\n    uploadedData.append('imageData', e.target.files[0])\r\n\r\n    uploadsService\r\n      .uploadImg(uploadedData)\r\n      .then(res => setFormData({ ...formData, isLoading: false, profileImage: res.data.cloudinary_url }))\r\n      .catch(err => console.error(err)) // Gestionar error de cara al usuario\r\n  }\r\n\r\n\r\n  return (\r\n    <Container className='d-flex justify-content-center flex-column align-items-center'>\r\n      <Row className='d-flex justify-content-center'>\r\n        <Col>\r\n          <h3>Last step! Now complete your data ✨</h3>\r\n          <Form onSubmit={handleSubmit}>\r\n            <InputGroup style={{ display: 'inline-block' }}>\r\n\r\n              <FormControl\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Name...\"\r\n                aria-label=\"name\"\r\n                aria-describedby=\"name\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                autoFocus\r\n                value={formData.name}\r\n                onChange={handleInput}\r\n              />\r\n              <Form.Control\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Description...\"\r\n                aria-label=\"description\"\r\n                aria-describedby=\"description\"\r\n                name=\"description\"\r\n                type=\"text\"\r\n                as=\"textarea\"\r\n                rows={6}\r\n                value={formData.description}\r\n                onChange={handleInput}\r\n              />\r\n              {/* TODO */}\r\n              {/* <FormControl\r\n                style={{ width: '100%', margin: '15px 0px' }}\r\n                placeholder=\"Location...\"\r\n                aria-label=\"location\"\r\n                aria-describedby=\"location\"\r\n                name=\"location\"\r\n                type=\"text\"\r\n                value={formData.location}\r\n                onChange={handleInput}\r\n              /> */}\r\n              <p>Profile image</p>\r\n              <div className='d-flex flex-column'>\r\n                <input\r\n                  style={{ maxWidth: '60vw' }}\r\n                  type=\"file\"\r\n                  id=\"profileImage\"\r\n                  aria-label=\"Profile image\"\r\n                  name=\"profileImage\"\r\n                  accept=\"image/png, image/jpeg, image/jpg\"\r\n                  onChange={(e) => handleFile(e)}\r\n                />\r\n\r\n                <Button size='sm' style={{ marginTop: '15px' }} disabled={formData.isLoading} type=\"submit\" variant=\"primary\">\r\n                  Save Data\r\n                </Button>\r\n              </div>\r\n            </InputGroup>\r\n          </Form>\r\n\r\n        </Col>\r\n      </Row>\r\n      <Link to=\"/profile\" className='plain-link' style={{ margin: '15px 0px' }} type=\"submit\" variant=\"primary\">\r\n        Skip\r\n      </Link>\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default SignupInfoPage\r\n","const genres = ['TRAVEL', 'KIDS', 'BUSINESS', 'ART', 'BIOGRAPHY', 'CLASSICS', 'COMICS',\n  'CRIME', 'COOKBOOKS', 'COOKING', 'FANTASY', 'FICTION', 'QUEER', 'HISTORY', 'HORROR',\n  'COMEDY', 'MANGA', 'MUSIC', 'MYSTERY', 'NONFICTION', 'PARANORMAL', 'PHILOSOPHY', 'POETRY', 'PSYCHOLOGY',\n  'RELIGION', 'ROMANCE', 'SCIENCE', 'SCIENCE FICTION', 'SELFHELP', 'SPORTS', 'SPIRITUALITY', 'THRILLER',\n  'YOUNGADULT', 'SUSPENSE', 'PHOTOGRAPHY', 'POLITICS']\n\nexport default genres","import { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { Container, Button, Row, Col } from 'react-bootstrap'\nimport UsersService from '../../services/users.service'\nimport genres from '../../utils/bookGenres'\n\nconst usersService = new UsersService()\n\n\nconst SignupGenresPage = props => {\n\n\tconst [favoriteGenres, setSignupGenresData] = useState([])\n\n\tlet history = useHistory()\n\n\tconst clearState = () => {\n\t\tsetSignupGenresData([])\n\t}\n\n\n\tconst handleClick = e => {\n\t\tconst currentGenre = e.target.innerText\n\n\t\tif (!favoriteGenres.includes(currentGenre)) {\n\t\t\tsetSignupGenresData(favoriteGenres => [...favoriteGenres, currentGenre])\n\t\t} else {\n\t\t\tsetSignupGenresData(favoriteGenres =>\n\t\t\t\tfavoriteGenres.filter(genre => genre !== currentGenre)\n\t\t\t)\n\t\t}\n\t}\n\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\n\t\tusersService\n\t\t\t.updateFavoriteGenres(favoriteGenres)\n\t\t\t.then(() => {\n\t\t\t\thistory.push('/signup/info')\n\t\t\t\tclearState()\n\t\t\t})\n\t\t\t.catch(err => console.error(err))\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row className=\"d-flex justify-content-center\">\n\t\t\t\t<Col md={6} xs={12}>\n\t\t\t\t\t<h2 className=\"mb-5\">Choose your favorite genres 📚 </h2>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div className='buttonsList' style={{ display: 'flex', flexWrap: 'wrap', gap: '5px' }}>\n\t\t\t\t\t\t\t{genres.map((genre, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={e => handleClick(e)}\n\t\t\t\t\t\t\t\t\t\tkey={`genre${i}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ flexGrow: '1' }}\n\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\tfavoriteGenres?.includes(genre) ? 'primary' : 'secondary'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Button type=\"submit\" className=\"mt-4\" style={{ width: '100%' }} variant=\"primary\">\n\t\t\t\t\t\t\tSUBMIT\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Link to=\"/signup/info\" className='plain-link mt-4' style={{ width: '100%', margin: 'auto' }} as={Link} to={'#'} type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\t\t<p style={{ textAlign: 'center' }}>Skip</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n\n\nexport default SignupGenresPage\n","import axios from 'axios'\n\n\nclass RequestsService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/requests`,\n      withCredentials: true\n    })\n  }\n\n  getRequests = () => this.instance.get('/')\n\n  manageRequest = (id, status) => this.instance.put('/', { id, status })\n\n  createRequest = (receiver, type, book) => this.instance.post('/', { receiver, type, book })\n\n  deleteRequest = (otherUserId, type) => this.instance.delete('/', { data: { otherUserId, type } })\n\n  getRequest = (otherUserId, type) => this.instance.get(`/${type}?otherUserId=${otherUserId}`)\n\n  getExchangeRequest = (otherUserId, bookId) => this.instance.get(`/exchange?otherUserId=${otherUserId}&bookId=${bookId}`)\n\n}\n\n\nexport default RequestsService\n","import { Link } from 'react-router-dom'\r\nimport { Button, Row, Col } from 'react-bootstrap'\r\nimport RequestsService from '../../services/requests.service'\r\n\r\nconst requestsService = new RequestsService()\r\n\r\n\r\nconst RequestsItem = ({ _id, owner, book, getRequests }) => {\r\n\r\n  const changeRequestStatus = e => {\r\n\r\n    e.preventDefault()\r\n\r\n    const status = e.target.dataset.status\r\n\r\n    requestsService\r\n      .manageRequest(_id, status)\r\n      .then(() => getRequests())\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3} style={{ marginTop: '10px' }}>\r\n        <Row className='request-card mb-3'>\r\n          {book && <p><b>{book.title}</b></p>}\r\n          <Col className='col-3'>\r\n            <Link className='plain-link' to={`/users/${owner._id}`}>{owner.username}</Link>\r\n          </Col>\r\n          <Col className='col-8'>\r\n            <Button onClick={changeRequestStatus} data-status=\"ACCEPTED\" variant=\"secondary\" style={{ marginRight: '3px' }}>Accept</Button>\r\n            <Button onClick={changeRequestStatus} data-status=\"REJECTED\" variant=\"primary\">Reject</Button>\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsItem\r\n","import { Container, Row } from 'react-bootstrap'\r\nimport RequestItem from './RequestItem'\r\n\r\n\r\nconst RequestsList = ({ getRequests, requests }) => {\r\n\r\n  const friendshipRequests = requests.filter(request => request.type === 'FRIENDSHIP')\r\n  const exchangeRequests = requests.filter(request => request.type === 'EXCHANGE')\r\n\r\n  const displayRequests = requestsArr => requestsArr.map(request => {\r\n    return <RequestItem key={request._id} {...request} getRequests={getRequests} />\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        friendshipRequests.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5 mb-3\">Friendship Requests</h2>\r\n          {displayRequests(friendshipRequests)}\r\n        </>\r\n      }\r\n\r\n      {\r\n        exchangeRequests.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5 mb-3\">Exchange Requests</h2>\r\n          {displayRequests(exchangeRequests)}\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport RequestsService from '../../services/requests.service'\r\nimport RequestsList from './RequestsList'\r\n\r\nconst requestsService = new RequestsService()\r\nconst RequestsPage = props => {\r\n\r\n  const [requests, setRequests] = useState(null)\r\n\r\n  const getRequests = () => {\r\n\r\n    requestsService\r\n      .getRequests()\r\n      .then(res => setRequests(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getRequests()\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"mb-5\">My Requests</h1>\r\n      {requests?.length ?\r\n        <RequestsList getRequests={getRequests} requests={requests} />\r\n        :\r\n        <p>No pending requests.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default RequestsPage\r\n","import styled from 'styled-components'\n\n\nconst Header = styled.div`\n  color: #FFFFFF;\n  text-align: center;\n  background-repeat: no-repeat;\n  border-radius: 15px;\n  background-size: cover; \n  height: 20vh; \n  background-image: url(https://images.unsplash.com/photo-1473755504818-b72b6dfdc226?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1074&q=80)\n`\n\nconst ProfilePicture = styled.div`\n  height: 200px; \n  width: 200px; \n  border-radius: 50%; \n  border: 3px solid white;\n  background-image: url(${props => props.image});\n  background-size: cover;\n  background-position: center;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 15px;\n`\n\nexport { Header, ProfilePicture }\n","import { useState, useEffect, useContext } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport { Button, Card, Col } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport UsersService from '../../services/users.service'\r\nimport RequestsService from '../../services/requests.service'\r\nimport { ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\r\n\r\nconst usersService = new UsersService()\r\nconst requestsService = new RequestsService()\r\n\r\n\r\nconst UsersItem = ({ getUsers, user }) => {\r\n\r\n  // props user: _id, username, readBooks, city, rating, timesRated,\r\n  // exchangedBooksByUser, favoriteGenres, number of friends, profileImage\r\n\r\n  const [friendshipRequest, setFriendshipRequest] = useState(null)\r\n  const [buttonToShow, setButtonToShow] = useState('')\r\n  const [areFriends, setAreFriends] = useState(false)\r\n\r\n  const { loggedUser, storeUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n  const type = 'FRIENDSHIP'\r\n\r\n  useEffect(() => {\r\n    existFriendshipRequest()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    selectButtonToShow()\r\n  }, [friendshipRequest])\r\n\r\n  useEffect(() => {\r\n    checkFriendship()\r\n  }, [user])\r\n\r\n\r\n  const handleFriendship = (e, promise) => {\r\n\r\n    e.preventDefault()\r\n\r\n    promise\r\n      .then(() => {\r\n        existFriendshipRequest()\r\n        getUsers()\r\n        return usersService.getUserInfo(currentUserId)\r\n      })\r\n      .then(res => storeUser(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const checkFriendship = () => setAreFriends(user.friends.includes(currentUserId))\r\n\r\n\r\n  const existFriendshipRequest = () => {\r\n\r\n    requestsService\r\n      .getRequest(user._id, type)\r\n      .then(res => {\r\n        if (res.data) {\r\n          setFriendshipRequest(res.data)\r\n        } else {\r\n          setFriendshipRequest(null)\r\n          setButtonToShow('')\r\n        }\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  const userIsOwner = () => friendshipRequest.owner === currentUserId\r\n  const userIsReceiver = () => friendshipRequest.owner === user._id\r\n\r\n  const selectButtonToShow = () => {\r\n    if (friendshipRequest?.status === 'PENDING' && userIsOwner()) {\r\n      setButtonToShow('PENDING OWNER')\r\n    } else if (friendshipRequest?.status === 'PENDING' && userIsReceiver()) {\r\n      setButtonToShow('PENDING RECEIVER')\r\n    } else if (friendshipRequest?.status === 'REJECTED' && userIsOwner()) {\r\n      setButtonToShow('REJECTED OWNER')\r\n    } else if (friendshipRequest?.status === 'REJECTED' && userIsReceiver()) {\r\n      setButtonToShow('REJECTED RECEIVER')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Col md={3}>\r\n      <Card className='user-card'>\r\n\r\n\r\n\r\n        <Card.Body>\r\n          <Link to={`/users/${user._id}`}>\r\n            <ProfilePicture variant=\"top\" image={user.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\r\n          </Link>\r\n          <Card.Title>{user.username}</Card.Title>\r\n          <Link className='plain-link' to={`/users/${user._id}`}>Visit Profile</Link>\r\n          <br />\r\n\r\n          {!areFriends && !friendshipRequest &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.createRequest(user._id, type))}\r\n              variant=\"primary\">\r\n              Add Friend\r\n            </Button>\r\n          }\r\n\r\n          {(buttonToShow === 'PENDING OWNER' || buttonToShow === \"REJECTED OWNER\") &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.deleteRequest(user._id, type))}\r\n              variant=\"info\" style={{ color: 'white' }}>\r\n              Cancel Request\r\n            </Button>\r\n          }\r\n\r\n          {(buttonToShow === 'PENDING RECEIVER' || buttonToShow === 'REJECTED RECEIVER') &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.manageRequest(friendshipRequest._id, 'ACCEPTED'))}\r\n              variant=\"primary\" style={{ marginRight: '10px' }}>\r\n              Accept\r\n            </Button>\r\n          }\r\n\r\n          {buttonToShow === 'PENDING RECEIVER' &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, requestsService.manageRequest(friendshipRequest._id, 'REJECTED'))}\r\n              variant=\"primary\">\r\n              Reject\r\n            </Button>\r\n          }\r\n\r\n          {areFriends &&\r\n            <Button\r\n              onClick={e => handleFriendship(e, usersService.deleteFriend(user._id))}\r\n              variant=\"danger\" style={{ color: 'white' }}>\r\n              Delete Friend\r\n            </Button>\r\n          }\r\n        </Card.Body>\r\n\r\n\r\n      </Card>\r\n    </Col>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersItem\r\n","import UserItem from './UserItem'\r\nimport { Row } from 'react-bootstrap'\r\n\r\n\r\nconst UsersList = ({ getUsers, users }) => {\r\n\r\n  const displayUsers = () => users.map(user => {\r\n    return <UserItem key={user._id} user={user} getUsers={getUsers} />\r\n  })\r\n\r\n  return (\r\n    <Row>\r\n      {displayUsers()}\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport UsersService from '../../services/users.service'\r\nimport UsersList from './UsersList'\r\n\r\nconst usersService = new UsersService()\r\n\r\n\r\nconst UsersPage = () => {\r\n\r\n  const [users, setUsers] = useState(null)\r\n\r\n  const getUsers = () => {\r\n    usersService\r\n      .getUsers()\r\n      .then(res => setUsers(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"text-center mb-4\">Broad Users</h1>\r\n      {users?.length ?\r\n        <UsersList getUsers={getUsers} users={users} />\r\n        :\r\n        <p>No users to show.</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default UsersPage\r\n","import axios from 'axios'\n\n\nclass ChatService {\n  \n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/chats`,\n      withCredentials: true,\n    })\n  }\n\n  getUserChats = () => this.instance.get('/')\n\n  createChat = otherUserId => this.instance.post('/', { otherUserId })\n\n  addMessage = (message, chat) => this.instance.put('/', { message, chat })\n\n}\n\n\nexport default ChatService\n","import { useState, useEffect, useContext, } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport { Button, Card, Row, Col } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { CHATS } from '../../utils/paths'\r\nimport defaultImages from '../../utils/defaultImages.js'\r\nimport RequestsService from '../../services/requests.service'\r\nimport ChatsService from '../../services/chats.service'\r\n\r\nconst requestsService = new RequestsService()\r\nconst chatsService = new ChatsService()\r\n\r\n\r\nconst BookToExchangeItem = ({ id, owner, ownerId, title, authors, image }) => {\r\n\r\n  const [exchangeRequest, setExchangeRequest] = useState(null)\r\n  const [buttonToShow, setButtonToShow] = useState('')\r\n  const [chatExists, setChatExists] = useState(false)\r\n\r\n  const { loggedUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n  let history = useHistory()\r\n  const type = 'EXCHANGE'\r\n\r\n  useEffect(() => {\r\n    existExchangeRequest()\r\n    checkChat()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    selectButtonToShow()\r\n  }, [exchangeRequest])\r\n\r\n\r\n  const handleClick = (e, promise) => {\r\n\r\n    e.preventDefault()\r\n\r\n    promise\r\n      .then(() => {\r\n        existExchangeRequest()\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const checkChat = () => {\r\n\r\n    chatsService\r\n      .getUserChats()\r\n      .then(res => res.data.forEach(chat => chat.participants.includes(ownerId) && setChatExists(true)))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const createChat = e => {\r\n\r\n    e.preventDefault()\r\n\r\n    chatsService\r\n      .createChat(ownerId)\r\n      .then(() => history.push(`${CHATS}`))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const existExchangeRequest = () => {\r\n\r\n    requestsService\r\n      .getExchangeRequest(ownerId, id)\r\n      .then(res => {\r\n\r\n        if (res.data) {\r\n          setExchangeRequest(res.data)\r\n        } else {\r\n          setExchangeRequest(null)\r\n          setButtonToShow('')\r\n        }\r\n      })\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  const userIsOwner = () => exchangeRequest.owner === currentUserId\r\n  const userIsReceiver = () => exchangeRequest.owner === ownerId\r\n\r\n\r\n  const selectButtonToShow = () => {\r\n    if (exchangeRequest?.status === 'PENDING' && userIsOwner()) {\r\n      setButtonToShow('PENDING OWNER')\r\n    } else if (exchangeRequest?.status === 'PENDING' && userIsReceiver()) {\r\n      setButtonToShow('PENDING RECEIVER')\r\n    } else if (exchangeRequest?.status === 'REJECTED' && userIsOwner()) {\r\n      setButtonToShow('REJECTED OWNER')\r\n    } else if (exchangeRequest?.status === 'REJECTED' && userIsReceiver()) {\r\n      setButtonToShow('REJECTED RECEIVER')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Col>\r\n      <Card style={{ height: '100%' }}>\r\n        <Card.Img className=\"p-4\" style={{ maxHeight: '200px', objectFit: 'contain' }} variant=\"top\" src={image ? image : defaultImages.bookCover} />\r\n        <Card.Body style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n          <Card.Title><b>{title?.length < 15 ? title : title}</b></Card.Title>\r\n\r\n          {authors &&\r\n            <Card.Text>\r\n              {\r\n                (authors?.length > 1 ?\r\n                  authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\r\n                  :\r\n                  authors[0])\r\n              }\r\n\r\n            </Card.Text>\r\n          }\r\n\r\n          <Card.Text>\r\n            <p><b>Owner:</b> {owner}</p>\r\n          </Card.Text>\r\n\r\n          <div className=\"mt-2\" >\r\n            {!chatExists &&\r\n              <Button\r\n                onClick={e => createChat(e)}\r\n                variant=\"info\"\r\n                style={{ width: '100%', marginBottom: '0.5rem' }}>\r\n                Start Chat\r\n              </Button>\r\n            }\r\n\r\n            {chatExists &&\r\n              <Button\r\n                as={Link} to={CHATS}\r\n                variant=\"secondary\"\r\n                style={{ width: '100%' }}>\r\n                Open Chat\r\n              </Button>\r\n            }\r\n\r\n            {!exchangeRequest &&\r\n              <Button\r\n                onClick={e => handleClick(e, requestsService.createRequest(ownerId, type, { id, title }))}\r\n                variant=\"primary\"\r\n                style={{ width: '100%', marginBottom: '0.5rem' }}>\r\n                Send Exchange Request\r\n              </Button>\r\n            }\r\n\r\n            {(buttonToShow === 'PENDING OWNER' || buttonToShow === \"REJECTED OWNER\") &&\r\n              <Button\r\n                onClick={e => handleClick(e, requestsService.deleteRequest(ownerId, type))}\r\n                variant=\"danger\" style={{ color: 'white', width: '100%' }}>\r\n                Cancel Request\r\n              </Button>\r\n            }\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookToExchangeItem\r\n","import BookToExchangeItem from './BookToExchangeItem'\r\nimport { Row } from 'react-bootstrap'\r\n\r\n\r\nconst BooksToExchangeList = ({ getBooksToExchange, booksToExchange, text }) => {\r\n\r\n  const filteredBooks = booksToExchange.filter(book => book.title.includes(text))\r\n  console.log(filteredBooks)\r\n\r\n  const displayBooksToExchange = () => booksToExchange.map(bookToExchange => {\r\n    return <BookToExchangeItem\r\n      key={`${bookToExchange.id} - ${bookToExchange.owner}`}\r\n      {...bookToExchange}\r\n      getBooksToExchange={getBooksToExchange}\r\n    />\r\n  })\r\n\r\n  return (\r\n    booksToExchange.length > 0 &&\r\n    <Row xs={1} md={3} className=\"g-5 mt-2 mb-5\">\r\n      {displayBooksToExchange(booksToExchange)}\r\n    </Row>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BooksToExchangeList\r\n","import { useState, useEffect } from 'react'\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\nimport { Container } from 'react-bootstrap'\r\nimport BooksToExchangeList from './BooksToExchangeList'\r\nimport UsersService from '../../services/users.service'\r\nimport SearchBar from '../../components/styledComponents/atomicComponents/SearchBar'\r\nimport SearchBarFilters from '../../components/styledComponents/atomicComponents/SearchBarFilters'\r\n\r\nconst usersService = new UsersService()\r\n\r\n\r\nconst BookExchangePage = props => {\r\n\r\n  const [booksToExchange, setBooksToExchange] = useState(null)\r\n  const [searchType, setSearchType] = useState('')\r\n\r\n  useEffect(() => {\r\n    getBooksToExchange()\r\n  }, [])\r\n\r\n  const getBooksToExchange = () => {\r\n\r\n    usersService\r\n      .getBooksToExchange()\r\n      .then(res => setBooksToExchange(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n  const handleRadioClick = (e) => {\r\n    setSearchType(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className=\"mb-5 text-center\">Available Books To Exchange</h1>\r\n\r\n      <SearchBar type={'exchange'} searchType={searchType} />\r\n      <SearchBarFilters type={'exchange'} handleRadioClick={handleRadioClick} />\r\n\r\n      {booksToExchange?.length ?\r\n        <BooksToExchangeList getBooksToExchange={getBooksToExchange} booksToExchange={booksToExchange} />\r\n        :\r\n        <p>Looking for books...</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default BookExchangePage\r\n","import { useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport { EDIT_PROFILE, BOOKS_EXCHANGED } from '../../utils/paths'\nimport UserContext from '../../UserContext'\nimport { Container, Row, Button } from 'react-bootstrap'\nimport { Header, ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\nimport AuthService from '../../services/auth.service'\nimport styled from 'styled-components'\n\nconst authService = new AuthService()\n\nconst Description = styled.div`\n\nwidth: 90%;\nbackground: #FFFFFF;\ncolor: #000000;\nborder-style:solid;\nborder-width: 1px;\nborder-color: rgba(0, 0, 0, 0.25);\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\nborder-radius: 20px;\nfont-style: oblique;\nfont-weight: normal;\nfont-size: 13px;\nline-height: 19px;\nfont-weight:500;\ntext-align:center;\npadding:20px;\nalign-items: center;\nmargin-bottom: 15px;\n`\n\n\nconst UserProfilePage = () => {\n\n  const { loggedUser, storeUser } = useContext(UserContext)\n\n\n  useEffect(() => {\n    authService\n      .refreshSession()\n      .then(res => storeUser(res.data))\n      .catch(err => console.error(err))\n  }, [])\n\n\n  return loggedUser ? (\n    <Container className=\"mb-5\" style={{ height: '100vh', borderRadius: '15px' }}>\n      <Row style={{ minHeight: '60vh', paddingBottom: '2rem' }}>\n\n        <Header className=\"d-none d-md-flex d-lg-flex col-md-12 header p-5 mb-5\" />\n\n        <div className=\"col-md-4 col-sm-12 mb-md-0 mb-lg-0 mb-3\" style={{ background: '#F4E7DE', height: '100%' }}>\n          <div className=\"ml-5 d-flex align-items-center justify-content-between flex-column p-5\" style={{ background: '#805D93', height: '80%', borderRadius: '15px' }} >\n\n            <div className=\"info\">\n              <div className=\"info mt-2\" style={{ color: 'white', fontSize: '2rem' }}>\n                <div className=\"d-flex flex-column align-items-center\">\n                  <ProfilePicture image={loggedUser.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\n                  <p>{loggedUser.username}</p>\n                  <Description>\"{loggedUser.description}\" <br />\n                    <div style={{ textAlign: 'right', fontWeight: '800' }}> {loggedUser.name}</div>\n                  </Description>\n                </div>\n                <p>Friends: {loggedUser.friends?.length}</p>\n                <p>Read books: {loggedUser.books?.filter(book => book.status === 'READ').length}</p>\n                <p>Wants to Read: {loggedUser.books?.filter(book => book.status === 'WANTSTOREAD').length}</p>\n              </div>\n            </div>\n\n            <Button style={{ width: '100%', alignSelf: 'flex-end' }} className='button-link' as={Link} to={EDIT_PROFILE} variant=\"secondary\" size=\"lg\"> Edit Profile </Button>\n\n          </div>\n        </div>\n\n        <div className=\"col-md-8 col-sm-12\" style={{ background: '#F4E7DE' }}>\n          <div className=\"ml-5 p-5 \" style={{ background: '#805D93', height: '100%', borderRadius: '15px', color: 'white' }} >\n            <h1 className=\"mb-5\">My Books 📚</h1>\n            {/* TODO Create pages for the following */}\n            <Link className=\"plain-link-profile\" to='#'><h3>→ I Want To Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Reading</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ To Exchange</h3></Link>\n            <Link className=\"plain-link-profile\" to={`/${loggedUser._id}/exchanged`}><h3>→ Exchanged</h3></Link>\n          </div>\n        </div>\n      </Row>\n    </Container>\n  )\n    : (\n      <h3>Loading...</h3>\n    )\n\n}\n\n\nexport { UserProfilePage, Description }\n","import { useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { InputGroup, Button, Form, FormControl, Container, Row, Col } from 'react-bootstrap/'\nimport UsersService from '../../services/users.service'\nimport UploadsService from '../../services/uploads.service'\nimport UserContext from '../../UserContext'\n\nconst usersService = new UsersService()\nconst uploadsService = new UploadsService()\n\n\nconst EditUserPage = props => {\n\n  let history = useHistory()\n  const { loggedUser, storeUser } = useContext(UserContext)\n  const [formData, setFormData] = useState({ name: '', email: '', description: '', profileImage: '', location: '' })\n\n  useEffect(() => {\n    setFormData({ name: loggedUser?.name, email: loggedUser?.email, description: loggedUser?.description, profileImage: loggedUser?.profileImage, location: loggedUser?.location })\n\n  }, [loggedUser])\n\n  const clearState = () => {\n    setFormData({ name: '', email: '', description: '', profileImage: '', location: '' })\n  }\n\n\n  const handleInput = e => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    //incluir campos nuevos\n    const { name, email, description, profileImage, location } = formData\n    // TODO revisar\n    usersService\n      .editUserInfo(name, email, description, profileImage, location)\n      .then(res => {\n        storeUser(res.data)\n        clearState()\n        history.push('/profile')\n      })\n      .catch(err => console.error(err))\n  }\n\n\n  const handleFile = e => {\n\n    setFormData({ ...formData, isLoading: true })\n\n    const uploadedData = new FormData()\n    uploadedData.append('imageData', e.target.files[0])\n\n    uploadsService\n      .uploadImg(uploadedData)\n      .then(res => setFormData({ ...formData, isLoading: false, profileImage: res.data.cloudinary_url }))\n      .catch(err => console.error(err)) // TODO Gestionar error de cara al usuario\n  }\n\n\n  return (\n    <Container className='d-flex justify-content-center flex-column align-items-center'>\n      <Row className='d-flex justify-content-center'>\n        <Col>\n\n          <h3>Edit profile</h3>\n\n          <Form onSubmit={handleSubmit}>\n            <InputGroup style={{ display: 'inline-block' }}>\n\n              <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Name...\"\n                aria-label=\"name\"\n                aria-describedby=\"name\"\n                name=\"name\"\n                type=\"text\"\n                autoFocus\n                value={formData.name}\n                onChange={handleInput}\n              />\n\n              <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"E-mail...\"\n                aria-label=\"email\"\n                aria-describedby=\"email\"\n                name=\"email\"\n                type=\"text\"\n                autoFocus\n                value={formData.email}\n                onChange={handleInput}\n              />\n\n              <Form.Control\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Description...\"\n                aria-label=\"description\"\n                aria-describedby=\"description\"\n                name=\"description\"\n                type=\"text\"\n                as=\"textarea\"\n                rows={6}\n                value={formData.description}\n                onChange={handleInput}\n              />\n\n              {/* TODO */}\n              {/* <FormControl\n                style={{ width: '100%', margin: '15px 0px' }}\n                placeholder=\"Location...\"\n                aria-label=\"location\"\n                aria-describedby=\"location\"\n                name=\"location\"\n                type=\"text\"\n                value={formData.location}\n                onChange={handleInput}\n              /> */}\n\n              <p>Profile image</p>\n              <div className='d-flex flex-column'>\n                <input\n                  style={{ maxWidth: '60vw' }}\n                  type=\"file\"\n                  id=\"profileImage\"\n                  aria-label=\"Profile image\"\n                  name=\"profileImage\"\n                  accept=\"image/png, image/jpeg, image/jpg\"\n                  onChange={(e) => handleFile(e)}\n                />\n\n                <Button size='sm' style={{ marginTop: '15px' }} disabled={formData.isLoading} type=\"submit\" variant=\"primary\">\n                  Save Data\n                </Button>\n              </div>\n\n            </InputGroup>\n          </Form>\n\n        </Col>\n      </Row>\n    </Container>\n  )\n\n}\n\n\nexport default EditUserPage\n","import React, { useContext, useEffect, useState } from 'react'\nimport UserContext from '../../UserContext'\nimport { useLocation } from 'react-router-dom'\nimport UsersService from '../../services/users.service'\nimport queryString from 'query-string'\nimport { Card, Button } from 'react-bootstrap'\n\n\nconst ChatItem = ({ chat, handleChat, currentChat }) => {\n\n  const { loggedUser } = useContext(UserContext)\n  const chatUserId = chat.participants.find(participant => participant !== loggedUser._id)\n  const usersService = new UsersService()\n\n  const [otherUser, setOtherUser] = useState(undefined)\n  const [isThisChatOpen, setIsThisChatOpen] = useState(false)\n\n  const location = useLocation()\n  const data = queryString.parse(location.search)\n\n  useEffect(() => {\n    setIsThisChatOpen(chat === currentChat)\n  }, [data])\n\n  useEffect(() => {\n    if (loggedUser) {\n      usersService\n        .getUserInfo(chatUserId)\n        .then(res => {\n          setOtherUser(res.data)\n        })\n        .catch(err => console.error(err))\n    }\n\n  }, [loggedUser])\n\n\n  return (\n    <>\n      {loggedUser &&\n        <div className=\"d-flex\">\n          <Card className=\"mb-4\" style={{ width: '100%' }} body>\n            <h5>Chat with: {otherUser?.username}</h5>\n            {isThisChatOpen ?\n              (\n                <Button variant='info' onClick={() => { handleChat(true, chat, otherUser) }}>\n                  Close Chat\n                </Button>\n              )\n              :\n              (\n                <Button onClick={() => { handleChat(false, chat, otherUser) }}>\n                  Open Chat\n                </Button>\n              )\n            }\n          </Card>\n        </div>\n      }\n    </>\n  )\n\n}\n\n\nexport default ChatItem\n","import styled from 'styled-components'\n\n\nconst OuterContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n  background-color: #FFFF;\n  border: 1px solid #cfcfcf;\n  border-radius: 5px;\n    \n  @media(min - width: 320px) and(max - width: 480px) {\n    height: 100 %;\n  };\n\n`\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 8px;\n  height: 100%;\n  width: 100%;\n    ::-webkit-scrollbar {\n    color: red;\n  }\n  @media(min - width: 320px) and(max - width: 480px) {\n    height: 100 %\n  };\n  @media(min - width: 480px) and(max - width: 1200px) {\n    width: 60 %;\n  };\n`\n\nconst LeftInnerContainer = styled.div`\n  flex: 0.5;\n  display: flex;\n  align-items: center;\n  margin-left: 5%;\n  color: white;\n`\n\nconst RightInnerContainer = styled.div`\n  display: flex;\n  flex: 0.5;\n  justify-content: flex-end;\n  margin-right: 5%;\n`\n\nconst MessageContainerEnd = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 5%;\n  margin-top: 3px;\n\n`\n\nconst MessageBox = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 5px 20px;\n`\n\nconst MessageContainerStart = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  padding: 0 5%;\n  margin-top: 3px;\n\n`\n\nconst PurpleMessage = styled.div`\n  background: #805d93;\n  color: white;\n  padding: 1rem;\n  border-radius: 8px;\n\n`\n\nconst LightMessage = styled.div`\n  background: #eaeaea;\n  padding: 1rem;\n  border-radius: 8px;\n`\n\nconst AdminMessage = styled.div`\n  background: #159772;\n  min-width: 100%;\n  padding: 1rem;\n  border-radius: 8px;\n  color: white;\n  text-align: center;\n  top: 0;\n  & p {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n`\n\nexport { OuterContainer, ChatContainer, LeftInnerContainer, RightInnerContainer, MessageContainerStart, MessageContainerEnd, LightMessage, PurpleMessage, MessageBox, AdminMessage }\n","import { LeftInnerContainer, RightInnerContainer } from '../../../components/styledComponents/ChatStyle'\nimport onlineIcon from '../../../components/icons/online-icon.png'\nimport './InfoBar.css'\n\n\nconst InfoBar = ({ otherUser, handleClick }) => {\n\n  return (\n    <div className=\"infoBar\">\n      <LeftInnerContainer>\n        <img src={onlineIcon} alt=\"green light online\" className=\"onlineIcon\" />\n        <h3>{otherUser.username}</h3>\n      </LeftInnerContainer>\n      <RightInnerContainer>\n        <svg onClick={() => handleClick()} style={{ cursor: \"pointer\" }} xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"white\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n          <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n        </svg>\n      </RightInnerContainer>\n    </div>\n  )\n\n}\n\n\nexport default InfoBar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import { Form, Row, Button } from 'react-bootstrap'\n\n\nconst Input = ({ message, sendMessage, setMessage }) => {\n  return (\n\n    <Form.Group>\n      <Row id=\"chatRow\">\n        <div className=\"col-10\">\n          <Form.Control\n            style={{ resize: \"none\", width: \"100%\" }} as=\"textarea\" rows={3} placeholder=\"Type a message...\"\n            value={message}\n            onChange={(e) => { setMessage(e.target.value) }}\n            onKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null} />\n        </div>\n        <div className=\"col-2\">\n          <Button onClick={(e) => sendMessage(e)} style={{ width: \"100%\", height: \"100%\", padding: \"0\" }}>Send</Button>\n        </div>\n      </Row>\n    </Form.Group>\n  )\n}\n\n\nexport default Input\n","import { MessageContainerEnd, MessageContainerStart, PurpleMessage, LightMessage, AdminMessage } from \"../../components/styledComponents/ChatStyle\"\nimport ReactEmoji from 'react-emoji'\nimport UserContext from '../../UserContext'\nimport { useContext } from \"react\"\n\nconst Message = ({ message, otherUser }) => {\n\n  const { loggedUser } = useContext(UserContext)\n\n  return (\n    <div>\n      {(message.owner === loggedUser._id || message.user === loggedUser.username) &&\n\n        <MessageContainerEnd>\n          <LightMessage className=\"mb-4\" text={message.text}>\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(message.text)}</p>\n          </LightMessage>\n        </MessageContainerEnd>\n\n      }\n\n      {message.user === 'admin' &&\n        <AdminMessage className=\"mb-4\" text={message.text}>\n          <p className=\"messageText colorWhite\">{ReactEmoji.emojify(message.text)}</p>\n        </AdminMessage>\n      }\n\n      {message.owner !== loggedUser._id && message.user !== loggedUser.username && message.user !== 'admin' &&\n\n        <MessageContainerStart>\n          <PurpleMessage className=\"mb-4\">\n            <p className=\"sentText colorDark pl-10 mb-4\">{ReactEmoji.emojify(message.text)}</p>\n          </PurpleMessage>\n        </MessageContainerStart>\n\n      }\n    </div>\n\n\n    /* currentMessage.user === 'currentUser' ?\n\n      (\n        <div>\n          <MessageContainerEnd>\n            <LightMessage className=\"mb-4\" text={currentMessage.text}>\n              <p className=\"messageText colorWhite\">{ReactEmoji.emojify(currentMessage.text)}</p>\n            </LightMessage>\n          </MessageContainerEnd>\n        </div>\n      )\n\n      :\n\n      (currentMessage.user === 'admin' ?\n\n        (\n          <div >\n            <AdminMessage className=\"mb-4\" text={currentMessage.text}>\n              <p className=\"messageText colorWhite\">{ReactEmoji.emojify(currentMessage.text)}</p>\n            </AdminMessage>\n          </div>\n        )\n\n        :\n\n        (\n          <div>\n            <MessageContainerStart>\n              <PurpleMessage className=\"mb-4\">\n                <p className=\"sentText colorDark pl-10 mb-4\">{ReactEmoji.emojify(currentMessage.text)}</p>\n              </PurpleMessage>\n            </MessageContainerStart>\n          </div>\n        )\n      ) */\n  )\n\n}\n\n\nexport default Message\n","import ScrollToBottom from 'react-scroll-to-bottom'\nimport React, { useContext } from 'react'\nimport Message from './Message'\nimport UserContext from '../../UserContext'\n\nconst Messages = ({ messages, otherUser }) => {\n\n  const { loggedUser } = useContext(UserContext)\n  const displayMessages = (messagesToShow) => messagesToShow.map((message, i) => <Message key={`message${loggedUser}${i}`} message={message} otherUser={otherUser} />)\n\n  return (\n    <ScrollToBottom initialScrollBehavior='smooth' mode='bottom' >\n      <div style={{ maxHeight: \"60vh\" }}>\n\n        {displayMessages(messages)}\n\n      </div>\n    </ScrollToBottom>\n  )\n\n}\n\n\nexport default Messages\n","\nimport { useEffect, useState, useContext } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport ChatItem from './ChatItem'\nimport UserContext from '../../UserContext'\nimport { useLocation, useHistory } from 'react-router-dom'\nimport queryString from 'query-string'\nimport Chat from './Chat'\nimport ChatsService from '../../services/chats.service'\n\n\nconst ChatPage = () => {\n\n  const { loggedUser } = useContext(UserContext)\n  const location = useLocation()\n  const data = queryString.parse(location.search)\n  let history = useHistory()\n  //const usersService = new UsersService()\n\n  const chatsService = new ChatsService()\n  const [chats, setChats] = useState([])\n  const [isChatOpen, setIsChatOpen] = useState(false)\n  const [otherUser, setOtherUser] = useState(undefined)\n  const [currentChat, setCurrentChat] = useState(undefined)\n\n\n  const handleChat = (isOpen, chat, otherUser) => {\n\n    if (isOpen) {\n      history.push('/chats')\n      setCurrentChat(undefined)\n    } else if (!isOpen) {\n      setCurrentChat(chat)\n      setOtherUser(otherUser)\n      history.push(`/chats?user=${otherUser._id}`)\n    }\n  }\n\n  const handleClick = () => {\n    history.push(`/chats`)\n    setCurrentChat(undefined)\n  }\n\n  const changeActiveChatUser = user => setOtherUser(user)\n\n  useEffect(() => {\n    if (loggedUser) {\n      chatsService\n        .getUserChats()\n        .then(res => {\n          setChats(res.data)\n        })\n        .catch(err => console.error(err))\n    }\n  }, [loggedUser])\n\n  useEffect(() => {\n    setIsChatOpen(!!data)\n  }, [data])\n\n  return (\n    <>\n      <Container>\n        <h1 className='mb-5'>Your chats 💬</h1>\n        <Row style={{ height: '70vh' }}>\n          <Col style={{ maxHeight: '100%' }} md={6}>\n            {chats.map((chat, i) =>\n              <ChatItem key={`${chat}-${i}`} setIsChatOpen={setIsChatOpen} chat={chat} currentChat={currentChat} handleChat={handleChat} changeActiveChatUser={changeActiveChatUser} isChatOpen={isChatOpen} otherUser={otherUser} />\n            )}\n          </Col>\n          <Col style={{ maxHeight: '100%' }} md={6}>\n            {isChatOpen && currentChat &&\n              <Chat style={{ maxHeight: '100%' }} otherUser={otherUser} chat={currentChat} handleClick={handleClick} />\n            }\n            {!isChatOpen &&\n              <p>Chat Animation</p>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </>\n  )\n\n}\n\n\nexport default ChatPage\n","import { Card, Row, Col } from 'react-bootstrap'\r\nimport defaultImages from '../../utils/defaultImages.js'\r\n\r\n\r\nconst ExchangedBookItem = ({ owner, receiver, id, title, authors, image, endDate, exchangeId }) => {\r\n\r\n\r\n  /* exchangeId necesario para crear un botón de intercambio finalizado que actualice \r\n  el exchange y añada una endDate. Una vez haya endDate, se activará el rating de user \r\n  router.put en exchanges routes */\r\n\r\n\r\n  return (\r\n    <Col>\r\n      <Card style={{ height: '100%' }}>\r\n        <Card.Img className=\"p-4\" style={{ maxHeight: '200px', objectFit: 'contain' }} variant=\"top\" src={image ? image : defaultImages.bookCover} />\r\n        <Card.Body style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n          <Card.Title><b>{title}</b></Card.Title>\r\n\r\n          {authors &&\r\n            <Card.Text>\r\n              {\r\n                (authors?.length > 1 ?\r\n                  authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\r\n                  :\r\n                  authors[0])\r\n              }\r\n\r\n            </Card.Text>\r\n          }\r\n\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n    // <Card>\r\n    //   <Row>\r\n\r\n    //     <Col md={2}>\r\n    //       <Card.Img variant=\"top\" src={image ? image : defaultImages.bookCover} />\r\n    //     </Col>\r\n\r\n    //     <Col md={10}>\r\n    //       <Card.Body>\r\n    //         <Card.Title>Title: {title}</Card.Title>\r\n    //         <Card.Text>\r\n    //           {authors &&\r\n    //             <p>Author: {\r\n    //               (authors.length > 1 ?\r\n    //                 authors.map((author, index) => index !== authors.length - 1 ? `${author}, ` : author)\r\n    //                 :\r\n    //                 authors[0])}\r\n    //             </p>\r\n    //           }\r\n    //         </Card.Text>\r\n    //         <br />\r\n    //       </Card.Body>\r\n    //     </Col>\r\n\r\n    //   </Row>\r\n    // </Card>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBookItem\r\n","import { useContext } from 'react'\r\nimport UserContext from '../../UserContext'\r\nimport ExchangedBookItem from './ExchangedBookItem'\r\nimport { Row } from 'react-bootstrap'\r\n\r\n\r\nconst ExchangedBooksList = ({ exchangedBooks, getExchangedBooks }) => {\r\n\r\n  const { loggedUser } = useContext(UserContext)\r\n  const currentUserId = loggedUser?._id\r\n\r\n  const booksUserIsOwner = exchangedBooks.filter(exchangedBooks => exchangedBooks.owner === currentUserId)\r\n  const booksUserIsReceiver = exchangedBooks.filter(exchangedBooks => exchangedBooks.receiver === currentUserId)\r\n\r\n  const displayExchangedBooks = exchangedBooksArr => exchangedBooksArr.map(exchangedBook => {\r\n    return <ExchangedBookItem key={exchangedBook._id} {...exchangedBook} getExchangedBooks={getExchangedBooks} />\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {\r\n        booksUserIsOwner?.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5\">Lent Books</h2>\r\n          <Row xs={1} md={3} className=\"g-5 mt-2 mb-5\">\r\n            {displayExchangedBooks(booksUserIsOwner)}\r\n          </Row>\r\n        </>\r\n      }\r\n\r\n      {\r\n        booksUserIsReceiver?.length > 0 &&\r\n        <>\r\n          <h2 className=\"mt-5\">Borrowed Books</h2>\r\n          <Row xs={1} md={3} className=\"g-5 mt-2 mb-5\">\r\n            {displayExchangedBooks(booksUserIsReceiver)}\r\n          </Row>\r\n        </>\r\n      }\r\n    </>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBooksList\r\n","import { useState, useEffect } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport ExchangedBooksList from './ExchangedBooksList'\r\nimport ExchangesService from '../../services/exchanges.service'\r\nimport { useParams } from 'react-router'\r\n\r\nconst exchangesService = new ExchangesService()\r\n\r\nconst ExchangedBooksPage = props => {\r\n\r\n  const [exchangedBooks, setExchangedBooks] = useState(null)\r\n  const { id } = useParams()\r\n\r\n  useEffect(() => {\r\n    getExchangedBooks()\r\n  }, [id])\r\n\r\n\r\n  const getExchangedBooks = () => {\r\n\r\n    exchangesService\r\n      .getExchangedBooks(id)\r\n      .then(res => setExchangedBooks(res.data))\r\n      .catch(err => console.error(err))\r\n  }\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Exchanged Books</h1>\r\n      {exchangedBooks?.length ?\r\n        <ExchangedBooksList getExchangedBooks={getExchangedBooks} exchangedBooks={exchangedBooks} />\r\n        :\r\n        <p>No books exchanged yet...</p>\r\n      }\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default ExchangedBooksPage\r\n","import axios from 'axios'\n\n\nclass ExchangesService {\n\n  constructor() {\n    this.instance = axios.create({\n      baseURL: `${process.env.REACT_APP_BASE_URL}/exchanges`,\n      withCredentials: true,\n    })\n  }\n\n  getExchangedBooks = id => this.instance.get(`/${id}`)\n\n}\n\n\nexport default ExchangesService\n","import { useState, useEffect } from 'react'\nimport { Container, Row } from 'react-bootstrap'\nimport { useParams } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { Header, ProfilePicture } from '../../components/styledComponents/styledPages/ProfileStyle'\nimport UsersService from '../../services/users.service'\nimport { Description } from '../UserProfilePage/UserProfilePage'\n\n\n\n\nconst usersService = new UsersService()\n\n\nconst UserDetailsPage = props => {\n\n  const [user, setUser] = useState(undefined)\n  const { id } = useParams()\n\n  const getUser = () => {\n\n    usersService\n      .getUserInfo(id)\n      .then(res => setUser(res.data))\n      .catch(err => console.error(err))\n  }\n\n  useEffect(() => {\n    getUser(id)\n  }, [])\n\n\n  return user ?\n    <Container className=\"mb-5\" style={{ height: '100vh', borderRadius: '15px' }}>\n      <Row style={{ minHeight: '60vh', paddingBottom: '2rem' }}>\n\n        <Header className=\"d-none d-md-flex d-lg-flex col-md-12 header p-5 mb-5\" />\n\n        <div className=\"col-md-4 col-sm-12 mb-md-0 mb-lg-0 mb-3\" style={{ background: '#F4E7DE', height: '100%' }}>\n          <div className=\"ml-5  d-flex align-items-center justify-content-between flex-column p-5\" style={{ background: '#805D93', height: '80%', borderRadius: '15px' }} >\n\n            <div className=\"info\">\n              <div className=\"info mt-2\" style={{ color: 'white', fontSize: '2rem' }}>\n                <div className=\"d-flex flex-column align-items-center\">\n                  <ProfilePicture image={user.profileImage || 'https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg'} />\n                  <p>{user.username}</p>\n                  <Description>\"{user.description}\" <br />\n                    <div style={{ textAlign: 'right', fontWeight: '800' }}> {user.name}</div>\n                  </Description>\n                </div>\n                <p>Friends: {user.friends?.length}</p>\n                <p>Read books: {user.books?.filter(book => book.status === 'READ').length}</p>\n                <p>Wants to Read: {user.books?.filter(book => book.status === 'WANTSTOREAD').length}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"col-md-8 col-sm-12\" style={{ background: '#F4E7DE' }}>\n          <div className=\"ml-5 p-5 \" style={{ background: '#805D93', height: '100%', borderRadius: '15px', color: 'white' }} >\n            <h1 className=\"mb-5\">My Books 📚</h1>\n            {/* TODO Create pages for the following */}\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Wants To Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Reading</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ Read</h3></Link>\n            <Link className=\"plain-link-profile\" to='#'><h3>→ To Exchange</h3></Link>\n            <Link className=\"plain-link-profile\" to={`/${id}/exchanged`}><h3>→ Exchanged</h3></Link>\n          </div>\n        </div>\n      </Row>\n    </Container>\n    :\n    <p>Loading User Details...</p>\n\n}\n\n\nexport default UserDetailsPage\n","import { Redirect } from 'react-router'\r\n\r\n\r\nconst ProtectedRoutes = ({ condition, urlRedirect, children }) => {\r\n\r\n  return condition ? [children] : <Redirect to={urlRedirect} />\r\n\r\n}\r\n\r\n\r\nexport default ProtectedRoutes\r\n","import React, { useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport * as PATHS from '../../utils/paths'\nimport BookResultsRoutes from './BookResultsRoutes'\nimport { Route, Switch } from 'react-router-dom'\nimport HomePage from '../../pages/HomePage/HomePage'\nimport Login from '../../pages/auth/Login'\nimport Signup from '../../pages/auth/Signup'\nimport SignupInfoPage from '../../pages/SignupInfoPage/SignupInfoPage'\nimport SignupGenresPage from '../../pages/SignupGenresPage/SignupGenresPage'\nimport RequestsPage from '../../pages/RequestsPage/RequestsPage'\nimport UsersPage from '../../pages/UsersPage/UsersPage'\nimport BookExchangePage from '../../pages/BookExchangePage/BookExchangePage'\nimport { UserProfilePage } from '../../pages/UserProfilePage/UserProfilePage'\nimport EditUserPage from '../../pages/EditUserPage/EditUserPage'\nimport ChatPage from '../../pages/ChatPage/ChatPage'\nimport ExchangedBooksPage from '../../pages/ExchangedBooksPage/ExchangedBooksPage'\nimport UserDetailsPage from '../../pages/UserDetailsPage/UserDetailsPage'\nimport ProtectedRoutes from './ProtectedRoutes'\n\n\nconst Routes = props => {\n\n  const { loggedUser } = useContext(UserContext)\n\n  return (\n    <React.StrictMode>\n      <Switch>\n\n        <Route exact path={PATHS.HOMEPAGE} render={() => <HomePage />} />\n        <Route exact path={PATHS.LOGIN} render={() => <Login />} />\n        <Route exact path={PATHS.SIGNUP} render={() => <Signup />} />\n\n        <ProtectedRoutes condition={loggedUser} urlRedirect={PATHS.LOGIN}>\n          <Route exact path={PATHS.SIGNUP_INFO} render={() => <SignupInfoPage />} />\n          <Route exact path={PATHS.SIGNUP_GENRES} render={() => <SignupGenresPage />} />\n          <BookResultsRoutes />\n          <Route exact path={PATHS.REQUESTS} render={() => <RequestsPage />} />\n          <Route exact path={PATHS.USERS} render={() => <UsersPage />} />\n          <Route exact path={PATHS.PROFILE} render={() => <UserProfilePage />} />\n          <Route exact path={PATHS.EDIT_PROFILE} render={() => <EditUserPage />} />\n          <Route exact path={PATHS.BOOK_EXCHANGE} render={() => <BookExchangePage />} />\n          <Route path={PATHS.CHATS} render={() => <ChatPage />} />\n          <Route path={PATHS.BOOKS_EXCHANGED} render={() => <ExchangedBooksPage />} />\n          <Route exact path={PATHS.USER_DETAILS} render={() => <UserDetailsPage />} />\n        </ProtectedRoutes>\n\n      </Switch>\n    </React.StrictMode>\n  )\n\n}\n\n\nexport default Routes\n","export default __webpack_public_path__ + \"static/media/B.73b496fe.svg\";","import logo from '../../../B.svg'\nimport styled from 'styled-components'\n\n\nconst Img = styled.img`\n  height: 30px;\n  width: 30px;\n  position: absolute;\n  left: 15px;\n  top: 12px; \n  filter: invert(100%);\n`\n\n\nconst ImgLogo = () => {\n  return (\n    <Img src={logo} alt='Broad Logo' />\n  )\n}\n\n\nexport default ImgLogo\n","import React, { useContext } from 'react'\nimport UserContext from '../../UserContext'\nimport ImgLogo from '../styledComponents/atomicComponents/ImgLogo'\nimport { Link, useHistory } from 'react-router-dom'\nimport { HOMEPAGE, SIGNUP, LOGIN, PROFILE, CHATS, REQUESTS, BOOK_RESULTS } from '../../utils/paths'\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap/'\nimport SearchBar from '../styledComponents/atomicComponents/SearchBar'\nimport AuthService from '../../services/auth.service'\n\n\nconst Navtop = props => {\n\n  const authService = new AuthService()\n  const { loggedUser, storeUser } = useContext(UserContext)\n  let history = useHistory()\n\n  const logout = (e) => {\n\n    e.preventDefault()\n\n    authService\n      .logout()\n      .then(() => {\n        storeUser(null)\n        history.push(`/`)\n      })\n      .catch(err => console.error(err))\n\n  }\n\n  // const mediaMatch = window.matchMedia('(max-width: 991)')\n  // const [displaySearchBar, setDisplaySearchBar] = useState(true)\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"primary\" variant=\"dark\" style={{ marginBottom: '30px', zIndex: '5' }}>\n      <Container fluid style={{ height: '45px' }}>\n        <Navbar.Brand style={{ marginTop: '0px', marginRight: '4rem', padding: '0px' }} as={Link} to={HOMEPAGE}><ImgLogo /></Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse style={{ backgroundColor: '#805d93', padding: '5px', borderRadius: '10px', justifyContent: 'flex-end' }}>\n          {\n            loggedUser ?\n              (<>\n                <Nav id=\"responsive-navbar-nav\" className=\"me-auto\">\n                  <Nav.Link as={Link} to=\"/book-exchange\">Swap Books!</Nav.Link>\n                  <Nav.Link as={Link} to=\"/book-results/title/+\">Discover</Nav.Link>\n                  <Nav.Link as={Link} to=\"/users\">Community</Nav.Link>\n                </Nav>\n                <Nav className=\"me-auto\">\n                  <SearchBar type='books' id=\"toggle-search\" />\n                </Nav>\n                <Nav>\n                  <Nav.Link style={{ marginRight: '3rem' }} as={Link} to={PROFILE}>Welcome {loggedUser.username} &#9825; </Nav.Link>\n                </Nav>\n\n                <Nav>\n                  <NavDropdown title=\"Profile\" align=\"end\">\n                    <NavDropdown.Item as={Link} to={PROFILE}>My Profile</NavDropdown.Item>\n                    <NavDropdown.Item as={Link} to={REQUESTS}>My Requests</NavDropdown.Item>\n                    <NavDropdown.Item as={Link} to={CHATS}>My chats</NavDropdown.Item>\n                    <NavDropdown.Divider />\n                    <NavDropdown.Item onClick={logout}>Log Out</NavDropdown.Item>\n                  </NavDropdown>\n                </Nav>\n              </>) :\n              (<Nav>\n                <Nav.Link as={Link} to={LOGIN}>Log In</Nav.Link>\n                <Nav.Link as={Link} to={SIGNUP}>Sign Up</Nav.Link>\n              </Nav>\n              )\n          }\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n\n}\n\n\nexport default Navtop\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport Routes from './components/Routes'\nimport { UserProvider } from './UserContext'\nimport Navbar from './components/Layout/Navtop'\nimport AuthService from './services/auth.service'\nimport './Css/App.css'\n\nconst authService = new AuthService()\n\nconst App = props => {\n\n  const [loggedUser, setLoggedUser] = useState(undefined)\n\n  const storeUser = user => setLoggedUser(user)\n\n  const fetchUser = () => {\n    authService.isLoggedIn()\n      .then(res => storeUser(res.data))\n      .catch(err => storeUser(null))\n  }\n\n  useEffect(() => {\n    fetchUser()\n  }, [])\n\n\n  return (\n    <>\n      <Router>\n        <UserProvider value={{ loggedUser, storeUser, fetchUser }}>\n          <Navbar {...props} />\n\n          {loggedUser !== undefined && <Routes {...props} />}\n\n          {/* <Footer /> */}\n        </UserProvider>\n      </Router>\n    </>\n  )\n\n}\n\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport { BrowserRouter } from \"react-router-dom\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}